{
  "dashboard": {
    "title": "YAWL Multi-Cloud Marketplace KPI Dashboard",
    "description": "Executive and operational KPIs for YAWL Workflow Engine v5.2 marketplace launch",
    "tags": ["yawl", "marketplace", "multi-cloud", "kpis"],
    "version": "1.0.0",
    "refresh": "5m",
    "time": {
      "from": "now-30d",
      "to": "now"
    },
    "panels": [
      {
        "id": 1,
        "title": "Executive Summary",
        "type": "row",
        "collapsed": false
      },
      {
        "id": 2,
        "title": "Overall Readiness Score",
        "type": "gauge",
        "gridPos": {"x": 0, "y": 1, "w": 6, "h": 4},
        "targets": [
          {
            "expr": "yawl_readiness_score",
            "legendFormat": "Score"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "red", "value": 0},
                {"color": "yellow", "value": 60},
                {"color": "green", "value": 80}
              ]
            },
            "unit": "percent"
          }
        }
      },
      {
        "id": 3,
        "title": "Monthly Recurring Revenue (MRR)",
        "type": "stat",
        "gridPos": {"x": 6, "y": 1, "w": 3, "h": 2},
        "targets": [
          {
            "expr": "sum(yawl_mrr)",
            "legendFormat": "MRR"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "currencyUSD",
            "thresholds": {
              "steps": [
                {"color": "red", "value": 0},
                {"color": "green", "value": 50000}
              ]
            }
          }
        }
      },
      {
        "id": 4,
        "title": "Total Customers",
        "type": "stat",
        "gridPos": {"x": 9, "y": 1, "w": 3, "h": 2},
        "targets": [
          {
            "expr": "count(yawl_customer_active)",
            "legendFormat": "Customers"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "short"
          }
        }
      },
      {
        "id": 5,
        "title": "Net Promoter Score (NPS)",
        "type": "stat",
        "gridPos": {"x": 12, "y": 1, "w": 3, "h": 2},
        "targets": [
          {
            "expr": "avg(yawl_nps_score)",
            "legendFormat": "NPS"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "max": 100,
            "min": -100,
            "thresholds": {
              "steps": [
                {"color": "red", "value": -100},
                {"color": "yellow", "value": 0},
                {"color": "green", "value": 50}
              ]
            }
          }
        }
      },
      {
        "id": 6,
        "title": "System Uptime",
        "type": "stat",
        "gridPos": {"x": 15, "y": 1, "w": 3, "h": 2},
        "targets": [
          {
            "expr": "avg(yawl_uptime_percentage)",
            "legendFormat": "Uptime"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "max": 100,
            "min": 0,
            "unit": "percent",
            "thresholds": {
              "steps": [
                {"color": "red", "value": 0},
                {"color": "yellow", "value": 99},
                {"color": "green", "value": 99.9}
              ]
            }
          }
        }
      },
      {
        "id": 7,
        "title": "Active Trials",
        "type": "stat",
        "gridPos": {"x": 18, "y": 1, "w": 3, "h": 2},
        "targets": [
          {
            "expr": "count(yawl_trial_active)",
            "legendFormat": "Trials"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "short"
          }
        }
      },
      {
        "id": 8,
        "title": "Trial to Paid Rate",
        "type": "gauge",
        "gridPos": {"x": 6, "y": 3, "w": 3, "h": 2},
        "targets": [
          {
            "expr": "yawl_trial_to_paid_rate * 100",
            "legendFormat": "Rate"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "max": 100,
            "min": 0,
            "unit": "percent",
            "thresholds": {
              "steps": [
                {"color": "red", "value": 0},
                {"color": "yellow", "value": 15},
                {"color": "green", "value": 25}
              ]
            }
          }
        }
      },
      {
        "id": 10,
        "title": "Platform Breakdown",
        "type": "row",
        "collapsed": false
      },
      {
        "id": 11,
        "title": "Revenue by Platform",
        "type": "piechart",
        "gridPos": {"x": 0, "y": 10, "w": 6, "h": 5},
        "targets": [
          {
            "expr": "sum by (platform) (yawl_mrr)",
            "legendFormat": "{{platform}}"
          }
        ],
        "options": {
          "legend": {
            "displayMode": "table",
            "placement": "right"
          },
          "pieType": "pie"
        }
      },
      {
        "id": 12,
        "title": "Customers by Platform",
        "type": "barchart",
        "gridPos": {"x": 6, "y": 10, "w": 6, "h": 5},
        "targets": [
          {
            "expr": "count by (platform) (yawl_customer_active)",
            "legendFormat": "{{platform}}"
          }
        ],
        "options": {
          "orientation": "horizontal"
        }
      },
      {
        "id": 13,
        "title": "Marketplace Ratings",
        "type": "bargauge",
        "gridPos": {"x": 12, "y": 10, "w": 6, "h": 5},
        "targets": [
          {
            "expr": "yawl_marketplace_rating{platform=\"gcp\"}",
            "legendFormat": "GCP"
          },
          {
            "expr": "yawl_marketplace_rating{platform=\"aws\"}",
            "legendFormat": "AWS"
          },
          {
            "expr": "yawl_marketplace_rating{platform=\"azure\"}",
            "legendFormat": "Azure"
          },
          {
            "expr": "yawl_marketplace_rating{platform=\"oci\"}",
            "legendFormat": "OCI"
          },
          {
            "expr": "yawl_marketplace_rating{platform=\"ibm\"}",
            "legendFormat": "IBM"
          },
          {
            "expr": "yawl_marketplace_rating{platform=\"teradata\"}",
            "legendFormat": "Teradata"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "max": 5,
            "min": 0,
            "thresholds": {
              "steps": [
                {"color": "red", "value": 0},
                {"color": "yellow", "value": 3.5},
                {"color": "green", "value": 4.5}
              ]
            }
          }
        }
      },
      {
        "id": 14,
        "title": "Deployment Success Rate",
        "type": "gauge",
        "gridPos": {"x": 18, "y": 10, "w": 6, "h": 5},
        "targets": [
          {
            "expr": "avg(yawl_deployment_success_rate) * 100",
            "legendFormat": "Success Rate"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "max": 100,
            "min": 0,
            "unit": "percent",
            "thresholds": {
              "steps": [
                {"color": "red", "value": 0},
                {"color": "yellow", "value": 90},
                {"color": "green", "value": 95}
              ]
            }
          }
        }
      },
      {
        "id": 20,
        "title": "Performance Metrics",
        "type": "row",
        "collapsed": false
      },
      {
        "id": 21,
        "title": "API Response Time (ms)",
        "type": "timeseries",
        "gridPos": {"x": 0, "y": 20, "w": 8, "h": 5},
        "targets": [
          {
            "expr": "histogram_quantile(0.50, rate(yawl_api_response_time_bucket[5m]))",
            "legendFormat": "P50"
          },
          {
            "expr": "histogram_quantile(0.90, rate(yawl_api_response_time_bucket[5m]))",
            "legendFormat": "P90"
          },
          {
            "expr": "histogram_quantile(0.99, rate(yawl_api_response_time_bucket[5m]))",
            "legendFormat": "P99"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "ms"
          }
        },
        "options": {
          "legend": {
            "displayMode": "list"
          }
        }
      },
      {
        "id": 22,
        "title": "Throughput (RPS)",
        "type": "timeseries",
        "gridPos": {"x": 8, "y": 20, "w": 8, "h": 5},
        "targets": [
          {
            "expr": "sum(rate(yawl_api_requests_total[5m]))",
            "legendFormat": "RPS"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "reqps"
          }
        }
      },
      {
        "id": 23,
        "title": "Error Rate",
        "type": "timeseries",
        "gridPos": {"x": 16, "y": 20, "w": 8, "h": 5},
        "targets": [
          {
            "expr": "sum(rate(yawl_api_errors_total[5m])) / sum(rate(yawl_api_requests_total[5m])) * 100",
            "legendFormat": "Error Rate"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "max": 10,
            "min": 0
          }
        }
      },
      {
        "id": 30,
        "title": "Customer Success",
        "type": "row",
        "collapsed": false
      },
      {
        "id": 31,
        "title": "Customer Health Distribution",
        "type": "piechart",
        "gridPos": {"x": 0, "y": 30, "w": 6, "h": 5},
        "targets": [
          {
            "expr": "count(yawl_customer_health_score >= 80)",
            "legendFormat": "Healthy"
          },
          {
            "expr": "count(yawl_customer_health_score >= 50 and yawl_customer_health_score < 80)",
            "legendFormat": "At Risk"
          },
          {
            "expr": "count(yawl_customer_health_score < 50)",
            "legendFormat": "Critical"
          }
        ]
      },
      {
        "id": 32,
        "title": "Support Ticket Trend",
        "type": "timeseries",
        "gridPos": {"x": 6, "y": 30, "w": 6, "h": 5},
        "targets": [
          {
            "expr": "sum(yawl_support_tickets_open)",
            "legendFormat": "Open"
          },
          {
            "expr": "sum(yawl_support_tickets_resolved)",
            "legendFormat": "Resolved"
          }
        ]
      },
      {
        "id": 33,
        "title": "Customer Satisfaction (CSAT)",
        "type": "gauge",
        "gridPos": {"x": 12, "y": 30, "w": 3, "h": 5},
        "targets": [
          {
            "expr": "avg(yawl_csat_score)",
            "legendFormat": "CSAT"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "max": 5,
            "min": 0,
            "thresholds": {
              "steps": [
                {"color": "red", "value": 0},
                {"color": "yellow", "value": 3.5},
                {"color": "green", "value": 4.5}
              ]
            }
          }
        }
      },
      {
        "id": 34,
        "title": "Monthly Churn Rate",
        "type": "gauge",
        "gridPos": {"x": 15, "y": 30, "w": 3, "h": 5},
        "targets": [
          {
            "expr": "yawl_monthly_churn_rate * 100",
            "legendFormat": "Churn"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "max": 20,
            "min": 0,
            "unit": "percent",
            "thresholds": {
              "steps": [
                {"color": "green", "value": 0},
                {"color": "yellow", "value": 3},
                {"color": "red", "value": 5}
              ]
            }
          }
        }
      },
      {
        "id": 35,
        "title": "Feature Adoption",
        "type": "bargauge",
        "gridPos": {"x": 18, "y": 30, "w": 6, "h": 5},
        "targets": [
          {
            "expr": "avg(yawl_feature_adoption{feature=\"workflow_creation\"}) * 100",
            "legendFormat": "Workflow Creation"
          },
          {
            "expr": "avg(yawl_feature_adoption{feature=\"work_item_mgmt\"}) * 100",
            "legendFormat": "Work Items"
          },
          {
            "expr": "avg(yawl_feature_adoption{feature=\"reporting\"}) * 100",
            "legendFormat": "Reporting"
          },
          {
            "expr": "avg(yawl_feature_adoption{feature=\"api_integration\"}) * 100",
            "legendFormat": "API"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "max": 100,
            "min": 0,
            "unit": "percent"
          }
        }
      },
      {
        "id": 40,
        "title": "Operational Status",
        "type": "row",
        "collapsed": false
      },
      {
        "id": 41,
        "title": "Active Incidents by Severity",
        "type": "stat",
        "gridPos": {"x": 0, "y": 40, "w": 4, "h": 2},
        "targets": [
          {
            "expr": "sum(yawl_incidents_active{severity=\"critical\"})",
            "legendFormat": "Sev1"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "thresholds": {
              "steps": [
                {"color": "green", "value": 0},
                {"color": "red", "value": 1}
              ]
            }
          }
        }
      },
      {
        "id": 42,
        "title": "Active Sev2 Incidents",
        "type": "stat",
        "gridPos": {"x": 4, "y": 40, "w": 4, "h": 2},
        "targets": [
          {
            "expr": "sum(yawl_incidents_active{severity=\"high\"})",
            "legendFormat": "Sev2"
          }
        ]
      },
      {
        "id": 43,
        "title": "MTTR (hours)",
        "type": "stat",
        "gridPos": {"x": 8, "y": 40, "w": 4, "h": 2},
        "targets": [
          {
            "expr": "avg(yawl_mttr_hours)",
            "legendFormat": "MTTR"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "thresholds": {
              "steps": [
                {"color": "green", "value": 0},
                {"color": "yellow", "value": 4},
                {"color": "red", "value": 8}
              ]
            }
          }
        }
      },
      {
        "id": 44,
        "title": "Security Vulnerabilities",
        "type": "stat",
        "gridPos": {"x": 12, "y": 40, "w": 4, "h": 2},
        "targets": [
          {
            "expr": "sum(yawl_vulnerabilities{severity=\"critical\"} + yawl_vulnerabilities{severity=\"high\"})",
            "legendFormat": "Critical/High"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "thresholds": {
              "steps": [
                {"color": "green", "value": 0},
                {"color": "red", "value": 1}
              ]
            }
          }
        }
      },
      {
        "id": 50,
        "title": "Acquisition Funnel",
        "type": "row",
        "collapsed": false
      },
      {
        "id": 51,
        "title": "Funnel - Weekly",
        "type": "barchart",
        "gridPos": {"x": 0, "y": 50, "w": 12, "h": 5},
        "targets": [
          {
            "expr": "sum(increase(yawl_marketplace_views_total[1w]))",
            "legendFormat": "Views"
          },
          {
            "expr": "sum(increase(yawl_trial_starts_total[1w]))",
            "legendFormat": "Trials"
          },
          {
            "expr": "sum(increase(yawl_conversions_total[1w]))",
            "legendFormat": "Conversions"
          }
        ],
        "options": {
          "orientation": "horizontal"
        }
      },
      {
        "id": 52,
        "title": "Conversion Rates",
        "type": "stat",
        "gridPos": {"x": 12, "y": 50, "w": 4, "h": 2},
        "targets": [
          {
            "expr": "(sum(increase(yawl_trial_starts_total[1w])) / sum(increase(yawl_marketplace_views_total[1w]))) * 100",
            "legendFormat": "View to Trial"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent"
          }
        }
      },
      {
        "id": 53,
        "title": "Trial to Paid",
        "type": "stat",
        "gridPos": {"x": 16, "y": 50, "w": 4, "h": 2},
        "targets": [
          {
            "expr": "(sum(increase(yawl_conversions_total[1w])) / sum(increase(yawl_trial_starts_total[1w])) * 100)",
            "legendFormat": "Trial to Paid"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent"
          }
        }
      },
      {
        "id": 54,
        "title": "Win Rate",
        "type": "stat",
        "gridPos": {"x": 20, "y": 50, "w": 4, "h": 2},
        "targets": [
          {
            "expr": "yawl_win_rate * 100",
            "legendFormat": "Win Rate"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent"
          }
        }
      }
    ],
    "templating": {
      "list": [
        {
          "name": "platform",
          "type": "custom",
          "options": [
            {"text": "All", "value": "$__all"},
            {"text": "GCP", "value": "gcp"},
            {"text": "AWS", "value": "aws"},
            {"text": "Azure", "value": "azure"},
            {"text": "OCI", "value": "oci"},
            {"text": "IBM", "value": "ibm"},
            {"text": "Teradata", "value": "teradata"}
          ],
          "current": {
            "text": "All",
            "value": "$__all"
          }
        },
        {
          "name": "timeRange",
          "type": "custom",
          "options": [
            {"text": "Last 24h", "value": "now-24h"},
            {"text": "Last 7d", "value": "now-7d"},
            {"text": "Last 30d", "value": "now-30d"},
            {"text": "Last 90d", "value": "now-90d"}
          ],
          "current": {
            "text": "Last 30d",
            "value": "now-30d"
          }
        }
      ]
    },
    "annotations": {
      "list": [
        {
          "name": "Deployments",
          "datasource": "-- Grafana --",
          "enable": true,
          "iconColor": "green",
          "tags": ["deployment"]
        },
        {
          "name": "Incidents",
          "datasource": "-- Grafana --",
          "enable": true,
          "iconColor": "red",
          "tags": ["incident"]
        }
      ]
    }
  }
}
