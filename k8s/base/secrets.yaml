# SECURITY: This file defines Secret metadata only.
# Actual secret values MUST be injected at deploy time via one of:
#   - kubectl create secret generic yawl-db-credentials \
#       --from-literal=DATABASE_PASSWORD="$(vault kv get -field=db_password secret/yawl)" \
#       --from-literal=DATABASE_USER="$(vault kv get -field=db_user secret/yawl)" \
#       --from-literal=DATABASE_URL="$(vault kv get -field=db_url secret/yawl)" \
#       -n yawl
#   - External Secrets Operator referencing HashiCorp Vault / AWS Secrets Manager
#   - Sealed Secrets (kubeseal) with encrypted values committed to git
#
# NEVER commit plaintext credentials to this file.
apiVersion: v1
kind: Secret
metadata:
  name: yawl-db-credentials
  namespace: yawl
  labels:
    app.kubernetes.io/name: yawl
    app.kubernetes.io/component: database-secret
  annotations:
    secret-management: "inject-at-deploy-time"
type: Opaque
# stringData values must be provided by your secrets management system.
# Run: kubectl create secret generic yawl-db-credentials --from-env-file=.env -n yawl
# or use an ExternalSecret referencing your vault.
stringData: {}
---
apiVersion: v1
kind: Secret
metadata:
  name: yawl-api-keys
  namespace: yawl
  labels:
    app.kubernetes.io/name: yawl
    app.kubernetes.io/component: api-keys
  annotations:
    secret-management: "inject-at-deploy-time"
type: Opaque
# stringData values must be provided by your secrets management system.
# Keys required: ENGINE_API_KEY, RESOURCE_SERVICE_KEY, WORKLET_SERVICE_KEY, YAWL_PASSWORD
stringData: {}
---
apiVersion: v1
kind: Secret
metadata:
  name: yawl-ssl-certificates
  namespace: yawl
  labels:
    app.kubernetes.io/name: yawl
    app.kubernetes.io/component: ssl-certs
type: kubernetes.io/tls
stringData:
  tls.crt: |
    -----BEGIN CERTIFICATE-----
    MIICljCCAX4CCQCKz8mPbP6aDTANBgkqhkiG9w0BAQsFADANMQswCQYDVQQDDAJj
    YTAgFw0yNDAxMDEwMDAwMDBaGA9OQUwxMjMxMjMxMjMxMjMxWjANMQswCQYDVQQD
    DAJjYTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALLhZzKzL3LrVxdM
    -----END CERTIFICATE-----
  tls.key: |
    -----BEGIN PRIVATE KEY-----
    MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC65WydVnL3KxHd
    -----END PRIVATE KEY-----
