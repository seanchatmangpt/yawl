# MCP Server ConfigMap
# Configuration for the YAWL MCP Server (Model Context Protocol).
# The MCP server exposes 15 workflow tools, 3 resources, 3 resource templates,
# 4 prompts, and 3 completions over STDIO transport proxied via HTTP.
apiVersion: v1
kind: ConfigMap
metadata:
  name: yawl-mcp-server-config
  namespace: yawl
  labels:
    app.kubernetes.io/name: yawl-mcp-server
    app.kubernetes.io/component: mcp-server
    app.kubernetes.io/part-of: yawl
    app.kubernetes.io/version: "5.2"
data:
  # YAWL engine connection
  YAWL_ENGINE_URL: "http://yawl-engine:8080/yawl"
  YAWL_USERNAME: "admin"

  # MCP HTTP proxy port (wraps STDIO MCP server for health + REST access)
  MCP_HTTP_PORT: "8082"

  # Agent registry for MCP server self-registration on startup
  AGENT_REGISTRY_URL: "http://yawl-agent-registry:9090"

  # Session reconnect interval (seconds) if YAWL engine connection drops
  SESSION_RECONNECT_INTERVAL_SECONDS: "30"

  # Tool execution timeout
  TOOL_TIMEOUT_SECONDS: "60"

  # Log level
  MCP_LOG_LEVEL: "INFO"

  # MCP server identity
  MCP_SERVER_NAME: "yawl-mcp-server"
  MCP_SERVER_VERSION: "5.2.0"
