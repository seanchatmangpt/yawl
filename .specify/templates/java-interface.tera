/**
 * Generated by ggen from YAWL OWL 2 DL Ontology v6.0.0
 * Source: yawl-ontology.ttl
 * Generated: {{ generated.timestamp }}
 *
 * DO NOT EDIT - Changes will be overwritten on next generation
 */
package {{ java_package }};

import org.yawlfoundation.yawl.generated.YawlElement;
import org.yawlfoundation.yawl.generated.annotation.Generated;
import javax.annotation.Nonnull;
import javax.annotation.Nullable;

/**
 * {{ interface.label | default(value=interface.name) }} Interface
 *
 * {% if interface.comment -%}
 * <p>
 * {{ interface.comment }}
 * </p>
 * {% endif -%}
 *
 * OWL Class: <code>{{ interface.uri }}</code>
 *
 * <p>
 * <strong>Sealed Interface Hierarchy:</strong> This is an abstract interface that is sealed
 * to permit only specified implementations. Use the sealed interface to enforce compile-time
 * type safety for YAWL element hierarchies.
 * </p>
 *
 * <p>
 * <strong>Permitted Implementations:</strong>
 * <ul>
 * {% for impl in interface.implementations -%}
 * <li><code>{{ impl.name }}</code></li>
 * {% endfor -%}
 * </ul>
 * </p>
 *
 * {% if interface.properties | length > 0 -%}
 * <p>
 * <strong>Properties Inherited by Implementations:</strong>
 * <ul>
 * {% for prop in interface.properties -%}
 * <li><code>{{ prop.name }}</code> ({{ prop.property_type }}): {{ prop.comment | default(value="") }}</li>
 * {% endfor -%}
 * </ul>
 * </p>
 * {% endif -%}
 *
 * @author YAWL Foundation
 * @version {{ generated.version }}
 * @since 6.0.0
 */
@Generated(
    value = "org.yawlfoundation.ggen.CodeGenerator",
    date = "{{ generated.timestamp }}",
    comments = "Generated from abstract ontology class: {{ interface.uri }}"
)
public sealed interface {{ interface.name | pascalcase }}
        extends YawlElement
        permits
{% for impl in interface.implementations -%}
        {{ impl.name | pascalcase }}{{ if not loop.last }},{{ endif }}
{% endfor -%}
{

    // OWL Type URI
    String RDF_TYPE = "{{ interface.uri }}";

    /**
     * Get the OWL class identifier
     *
     * @return The RDF type URI for this element
     */
    @Override
    @Nonnull
    default String getRdfType() {
        return RDF_TYPE;
    }

{% for prop in interface.properties -%}
    /**
     * Get {{ prop.label | default(value=prop.name) }}
     *
     * {% if prop.comment -%}
     * {{ prop.comment }}
     * {% endif -%}
     *
     * OWL Property: <code>{{ prop.uri }}</code>
     * Range: <code>{{ prop.range }}</code>
     *
     * @return the {{ prop.name | snakecase }} value
     */
    {% if prop.is_mandatory %}@Nonnull{% else %}@Nullable{% endif %}
    {{ prop.java_type }} get{{ prop.name | pascalcase }}();

{% endfor -%}

    /**
     * Validate this element against SHACL shapes
     *
     * Implementations must override this to provide specific validation logic.
     *
     * @return true if valid according to SHACL constraints
     * @throws IllegalArgumentException if validation fails
     */
    @Override
    boolean validate();

    /**
     * Convert to RDF representation
     *
     * @return RDF string representation of this element
     */
    @Override
    @Nonnull
    String toRdf();

    /**
     * Base implementation for property values in RDF format
     *
     * @param value the value to convert
     * @return RDF representation
     */
    static String toRdfValue(Object value) {
        if (value == null) {
            return null;
        }
        if (value instanceof String) {
            return "\"" + escapeRdfString((String) value) + "\"";
        } else if (value instanceof Boolean) {
            return "\"" + value + "\"^^<http://www.w3.org/2001/XMLSchema#boolean>";
        } else if (value instanceof Integer) {
            return "\"" + value + "\"^^<http://www.w3.org/2001/XMLSchema#integer>";
        } else if (value instanceof Long) {
            return "\"" + value + "\"^^<http://www.w3.org/2001/XMLSchema#long>";
        } else if (value instanceof Double) {
            return "\"" + value + "\"^^<http://www.w3.org/2001/XMLSchema#double>";
        } else if (value instanceof YawlElement) {
            YawlElement elem = (YawlElement) value;
            return "<" + elem.getRdfType() + ">";
        }
        return "\"" + value + "\"";
    }

    /**
     * Escape special characters in RDF string literals
     *
     * @param str the string to escape
     * @return the escaped string
     */
    static String escapeRdfString(String str) {
        if (str == null) return null;
        return str
            .replace("\\", "\\\\")
            .replace("\"", "\\\"")
            .replace("\n", "\\n")
            .replace("\r", "\\r")
            .replace("\t", "\\t");
    }

    /**
     * Get all properties as a map for RDF serialization
     *
     * @return map of property names to values
     */
    @Nonnull
    default java.util.Map<String, Object> getPropertiesMap() {
        java.util.Map<String, Object> props = new java.util.HashMap<>();
{% for prop in interface.properties -%}
        Object {{ prop.name | snakecase }} = get{{ prop.name | pascalcase }}();
        if ({{ prop.name | snakecase }} != null) {
            props.put("{{ prop.uri }}", {{ prop.name | snakecase }});
        }
{% endfor -%}
        return props;
    }

    /**
     * Check if this element is an instance of a specific class
     *
     * @param className the fully qualified class name
     * @return true if this element is an instance of the specified class
     */
    @Override
    default boolean isInstanceOf(String className) {
        String rdfType = getRdfType();
        if (rdfType.equals(className)) {
            return true;
        }
        // Check for parent classes via ontology hierarchy
        // This is typically resolved at runtime by an OWL reasoner
        return false;
    }
}
