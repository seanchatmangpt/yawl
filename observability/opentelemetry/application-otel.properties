# OpenTelemetry Configuration for YAWL - Spring Boot Application Properties
# This file provides configuration for the Spring Boot OpenTelemetry starter
# Use this for deeper integration beyond the zero-code Java agent

# Enable/disable YAWL observability features
yawl.observability.enabled=true

# Service identification
yawl.observability.service.name=yawl-engine
yawl.observability.service.version=5.2
yawl.observability.service.namespace=yawl-workflows
yawl.observability.deployment.environment=production

# OpenTelemetry exporter configuration
# Options: otlp, logging, prometheus
yawl.observability.exporter.type=otlp
yawl.observability.otlp.endpoint=http://otel-collector:4317

# Trace sampling
yawl.observability.traces.sampler.ratio=0.1

# Metrics configuration
yawl.observability.metrics.export.interval=60
yawl.observability.prometheus.port=9464

# Spring Boot Actuator endpoints
management.endpoints.web.exposure.include=health,info,metrics,prometheus,trace
management.endpoint.health.show-details=always
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true

# Micrometer integration with OpenTelemetry
management.tracing.enabled=true
management.tracing.sampling.probability=0.1
management.metrics.distribution.percentiles-histogram.http.server.requests=true

# OpenTelemetry Spring Boot Starter properties
# These work in conjunction with the Java agent
otel.sdk.disabled=false
otel.traces.exporter=otlp
otel.metrics.exporter=otlp,prometheus
otel.logs.exporter=otlp

# Resource attributes
otel.resource.attributes=service.name=yawl-engine,service.version=5.2,deployment.environment=production

# Instrumentation-specific configuration
otel.instrumentation.spring-webmvc.enabled=true
otel.instrumentation.spring-web.enabled=true
otel.instrumentation.jdbc.enabled=true
otel.instrumentation.hibernate.enabled=true

# Logging
logging.pattern.level=%5p [${spring.application.name:},%X{trace_id},%X{span_id}]
logging.level.io.opentelemetry=INFO
logging.level.org.yawlfoundation.yawl.engine.observability=INFO
