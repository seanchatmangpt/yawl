# YAWL to FIBO Alignment Profile
# Financial Industry Business Ontology alignment for payment/order workflows
#
# This profile proves YAWL's extension-only architecture by declaring
# YAWL payment and order workflow constructs as semantic extensions of
# FIBO (Financial Industry Business Ontology) classes.
#
# FIBO focuses on financial domain concepts. This profile demonstrates how
# YAWL's workflow model can be specialized for financial processes without
# creating proprietary ontology branches.
#
# FIBO Resources:
#   - Specification: https://spec.edmcouncil.org/fibo/ontology/
#   - FND (Foundations): FND/Utilities, FND/Arrangements, FND/Parties
#   - FBC (Financial Business and Commerce): FBC/Financial Services
#
# Namespace Mappings:
#   yawls:       http://www.yawlfoundation.org/yawlschema#
#   fibo-fnd:    https://spec.edmcouncil.org/fibo/ontology/FND/
#   fibo-fbc:    https://spec.edmcouncil.org/fibo/ontology/FBC/
#   owl:         http://www.w3.org/2002/07/owl#
#   rdfs:        http://www.w3.org/2000/01/rdf-schema#
#   dct:         http://purl.org/dc/terms/

@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix yawls: <http://www.yawlfoundation.org/yawlschema#> .
@prefix fibo-fnd: <https://spec.edmcouncil.org/fibo/ontology/FND/> .
@prefix fibo-fbc: <https://spec.edmcouncil.org/fibo/ontology/FBC/> .
@prefix : <http://www.yawlfoundation.org/yawlschema/fibo-alignment#> .

<http://www.yawlfoundation.org/yawlschema/fibo-alignment> a owl:Ontology ;
    rdfs:label "YAWL FIBO Alignment Profile" ;
    rdfs:comment "Alignment of YAWL workflow concepts with FIBO for financial domain processes" ;
    owl:imports <http://www.yawlfoundation.org/yawlschema> ;
    dct:created "2026-02-23"^^xsd:date ;
    dct:creator "YAWL Foundation Architecture Team" ;
    dct:description """
        This alignment profile maps YAWL's workflow constructs to FIBO (Financial Industry
        Business Ontology) concepts. FIBO is maintained by the Enterprise Data Management
        Council (EDMC) and provides standardized definitions for financial processes,
        products, and parties.

        This profile focuses on the Order Fulfillment workflow patterns visible in
        process.ttl and demonstrates how YAWL can express financial workflows (payment
        processing, order management) using FIBO semantics without proprietary extensions.

        Key mappings:
        - Payment Processing Task → FIBO Payment Activity
        - Order Fulfillment Process → FIBO Commercial Trade Process
        - Inventory Condition → FIBO Inventory Status
        - Payment Status → FIBO Payment Status
        - Participant (Financial Institution) → FIBO Financial Service Provider

        Note: This profile is selective and conservative. We only declare alignments
        where the mapping is strict and provably correct. FIBO is a complex ontology
        with deep financial semantics, so alignments use rdfs:subClassOf only when
        inheritance is semantically justified.
    """@en ;
    rdfs:seeAlso <https://spec.edmcouncil.org/fibo/ontology/> ;
    rdfs:seeAlso <http://www.yawlfoundation.org/yawlschema> .

#################################################################
# FINANCIAL WORKFLOW DOMAIN MODELING
#################################################################

# YAWL Task in Financial Context
:PaymentProcessingTask a owl:Class ;
    rdfs:subClassOf yawls:Task ;
    rdfs:label "Payment Processing Task" ;
    rdfs:comment """
        A specialized YAWL Task for payment processing. This task:
        1. Takes order amount and payment details as input
        2. Communicates with payment gateway/processor
        3. Generates payment status (approved/declined)
        4. Records transaction ID for audit

        This aligns with FIBO's concept of a payment activity as a
        structured business process with specific inputs, outputs, and
        regulatory requirements.

        Relationship to FIBO: This task embodies a payment activity
        as defined in FIBO, but extends it with workflow control flow.
    """@en .

# Order Fulfillment Process as FIBO Commercial Trade
:OrderFulfillmentProcess a owl:Class ;
    rdfs:subClassOf yawls:WorkflowNet ;
    rdfs:label "Order Fulfillment Process" ;
    rdfs:comment """
        The complete order fulfillment workflow (from order.ttl) is a
        structured YAWL WorkflowNet that aligns with FIBO concepts of
        commercial trade processes. The process involves:

        1. Order Intake (Input Condition)
        2. Inventory Verification
        3. Payment Processing (parallel or sequential)
        4. Fulfillment (shipment or backorder)
        5. Customer Notification

        This maps to FIBO's understanding of commerce workflows where
        multiple parties (customer, supplier, payment processor, shipper)
        coordinate through defined process steps.

        Key FIBO relationships:
        - Involves multiple agents (fibo-fbc:InvolvesParty)
        - Produces financial artifacts (fibo-fnd:hasArtifact: invoice, receipt)
        - Subject to business rules and constraints
        - May involve multiple currencies and payment methods
    """@en .

#################################################################
# AGENT ALIGNMENTS WITH FIBO PARTIES
#################################################################

# Financial Institution providing payment services
:PaymentProcessorAgent a owl:Class ;
    rdfs:subClassOf yawls:Participant ;
    rdfs:label "Payment Processor Agent" ;
    rdfs:comment """
        A YAWL Participant in the payment domain role, specialized to represent
        a financial service provider (payment processor, payment gateway, bank).

        In FIBO terms, this is a fibo-fbc:FinancialServiceProvider that offers
        payment processing services. The participant:
        - Has credentials (API keys, merchant accounts)
        - Has privileges (can process payments up to X amount)
        - Has availability (24/7, business hours, etc.)
        - Has constraints (regional limitations, supported currencies)

        This alignment shows how YAWL resource management can express FIBO's
        party constraints without duplicating them.
    """@en ;
    owl:hasNote "Maps to FIBO FBC/FinancialServiceProvider" .

# Inventory Management Agent
:InventoryAgent a owl:Class ;
    rdfs:subClassOf yawls:Participant ;
    rdfs:label "Inventory Management Agent" ;
    rdfs:comment """
        A YAWL Participant responsible for inventory operations.
        In FIBO terms, this is typically a party in the supply chain
        (supplier, warehouse operator, logistics provider).

        Alignment: The inventory check task verifies stock levels
        against fibo-fnd:Arrangement constraints (inventory ledger).
        Inventory status feeds into downstream processes.
    """@en .

#################################################################
# FINANCIAL ARTIFACT ALIGNMENTS
#################################################################

# Order as FIBO Commercial Agreement
:Order a owl:Class ;
    rdfs:label "Order" ;
    rdfs:comment """
        An order in the context of order fulfillment workflow represents
        a FIBO commercial agreement between a customer and supplier.

        In FIBO terms:
        - It is a fibo-fnd:Arrangement (a structured plan)
        - It specifies fibo-fbc:GoodsAndServices to be delivered
        - It contains payment terms (fibo-fbc:PaymentTerms)
        - It may reference fibo-fbc:Pricing

        YAWL represents this order as case data (variables: orderID,
        customerID, amount, products), which flows through the workflow
        and drives business decisions.
    """@en ;
    owl:hasNote "Maps to FIBO FBC/Commercial Agreement concept" .

# Payment as FIBO Payment Activity
:Payment a owl:Class ;
    rdfs:label "Payment" ;
    rdfs:comment """
        A payment in the workflow is a FIBO payment activity.
        Structured as:
        - Payer (customer)
        - Payee (merchant/supplier)
        - Amount (in currency)
        - Date
        - Reference (order ID, invoice number)
        - Status (requested, processed, cleared, failed)

        In YAWL: This is captured in the ProcessPayment task, which:
        - Takes amount and payment method as input
        - Interfaces with payment processor (represented as Participant)
        - Generates payment status and transaction ID
        - Updates case data with payment confirmation

        FIBO provides standardized definitions of payment mechanics;
        YAWL provides the workflow orchestration.
    """@en ;
    owl:hasNote "Maps to FIBO FBC/Payment concept" .

# Invoice/Receipt as FIBO Financial Document
:InvoiceDocument a owl:Class ;
    rdfs:label "Invoice/Receipt Document" ;
    rdfs:comment """
        The output of order fulfillment includes financial documents
        (invoices, receipts, shipping confirmations) that represent
        FIBO artifacts: fibo-fnd:Document with business semantics.

        These documents:
        - Record the transaction (order, payment, shipment)
        - Serve as legal/accounting records
        - May trigger additional processes (accounting, reporting)
        - Are subject to regulatory retention rules

        YAWL represents these as outputs of tasks and case data.
    """@en ;
    owl:hasNote "Maps to FIBO FND/Document concept" .

#################################################################
# BUSINESS CONDITION ALIGNMENTS WITH FIBO
#################################################################

# Inventory Status as FIBO Arrangement Status
:InventoryStatus a owl:Class ;
    rdfs:subClassOf yawls:Condition ;
    rdfs:label "Inventory Status Condition" ;
    rdfs:comment """
        The inventory status check in YAWL (InStock vs OutOfStock)
        maps to FIBO's concept of arrangement status and constraints.

        In FIBO terms:
        - Inventory ledger is a fibo-fnd:Arrangement (structured record)
        - Stock levels are fibo-fnd:PropertyValue (quantity assertions)
        - Out-of-stock triggers business rule: cannot fulfill immediately
        - This constraint drives workflow branching (payment vs backorder)

        YAWL models this as an XOR split condition: "if inventory_status
        == 'InStock' then payment else backorder". FIBO provides the
        semantic foundation for what "inventory status" means.
    """@en ;
    owl:hasNote "Maps to FIBO FND/Arrangement + Status concept" .

# Payment Status as FIBO Payment Status
:PaymentStatus a owl:Class ;
    rdfs:subClassOf yawls:Condition ;
    rdfs:label "Payment Status Condition" ;
    rdfs:comment """
        Payment status (Approved, Declined, Pending) in the workflow
        maps to FIBO's payment status enumeration.

        FIBO defines standardized payment statuses:
        - Initiated
        - Processing
        - Approved
        - Rejected
        - Settled
        - Failed

        YAWL's ProcessPayment task produces these statuses, which then
        drive downstream decisions (proceed to shipping vs retry/fail).
    """@en ;
    owl:hasNote "Maps to FIBO FBC/PaymentStatus enumeration" .

# Backorder Status as FIBO Supply Chain Status
:BackorderStatus a owl:Class ;
    rdfs:subClassOf yawls:Condition ;
    rdfs:label "Backorder Status" ;
    rdfs:comment """
        When inventory is unavailable, the workflow creates a backorder—
        a promise to fulfill later. In FIBO terms:

        - A backorder is a fibo-fbc:Agreement with deferred settlement
        - It has fibo-fbc:PaymentTerms (when payment is collected)
        - It has fulfillment terms (expected delivery date)
        - It ties to fibo-fnd:Schedule (when item is expected to be available)

        YAWL models backorder creation and expected ship date as process
        outputs. FIBO provides the business semantic framework.
    """@en ;
    owl:hasNote "Maps to FIBO FBC/Agreement + SupplyChain concept" .

#################################################################
# PARTICIPANT/PARTY ALIGNMENTS WITH FIBO
#################################################################

# YAWL Participant as FIBO Party
yawls:Participant rdfs:comment """
    In a financial workflow context, YAWL Participants can specialize to
    FIBO Parties:

    1. Internal Parties (within organization):
       - Inventory Manager → Internal agent
       - Payment Processor → Internal payment handler
       - Customer Service → Internal actor

    2. External Parties (outside organization):
       - Payment Gateway (external service provider) → fibo-fbc:FinancialServiceProvider
       - Shipping Carrier → fibo-fbc:ServiceProvider
       - Customer → fibo-fbc:Customer

    FIBO provides standardized definitions of party roles and relationships.
    YAWL extends party definitions with resource management capabilities
    (assignment rules, privileges, capabilities) specific to workflow execution.
"""@en ;
    owl:hasNote "Maps to FIBO FBC/Party" .

#################################################################
# WORKFLOW CONTROL FLOW AS FIBO BUSINESS PROCESS
#################################################################

# XOR Split/Join Pattern in Financial Context
:XORSplitPaymentVsBackorder a owl:Class ;
    rdfs:label "Payment vs Backorder Decision" ;
    rdfs:comment """
        The key decision point in order fulfillment is:
        IF inventory available THEN process payment immediately
        ELSE create backorder and defer payment

        In FIBO terms, this represents a branching in the commercial
        agreement lifecycle:
        - Immediate fulfillment path: invoice → payment → shipment
        - Backorder path: purchase order → backorder → future shipment

        YAWL's XOR split implements this decision point, with the condition
        based on inventory status (FIBO arrangement status).
    """@en .

# AND Join Pattern for Synchronization
:ANDJoinShipmentSync a owl:Class ;
    rdfs:label "Shipment Synchronization Point" ;
    rdfs:comment """
        The AND join before shipment task synchronizes two paths:
        1. Payment completion (immediate or backorder approval)
        2. Inventory availability (initial or restocked)

        In FIBO terms:
        - Payment path produces a fibo-fbc:PaymentConfirmation
        - Inventory path produces a fibo-fnd:InventoryAllocationConfirmation
        - Shipment can only proceed when BOTH conditions are met

        This is a critical control point for financial/operational integrity.
    """@en .

#################################################################
# WORKFLOW VARIABLES AS FIBO PROPERTIES
#################################################################

:OrderIDVariable a owl:Class ;
    rdfs:subClassOf yawls:Variable ;
    rdfs:label "Order ID" ;
    rdfs:comment "Unique identifier for the order/commercial agreement" ;
    owl:hasNote "Maps to FIBO FBC/Agreement + Identifier" .

:OrderAmountVariable a owl:Class ;
    rdfs:subClassOf yawls:Variable ;
    rdfs:label "Order Amount" ;
    rdfs:comment "Total monetary amount of the order, including currency" ;
    owl:hasNote "Maps to FIBO FBC/MonetaryAmount" .

:PaymentMethodVariable a owl:Class ;
    rdfs:subClassOf yawls:Variable ;
    rdfs:label "Payment Method" ;
    rdfs:comment "Mechanism of payment (credit card, bank transfer, etc.)" ;
    owl:hasNote "Maps to FIBO FBC/PaymentMethod enumeration" .

:PaymentStatusVariable a owl:Class ;
    rdfs:subClassOf yawls:Variable ;
    rdfs:label "Payment Status" ;
    rdfs:comment "Current state of payment (approved, declined, pending)" ;
    owl:hasNote "Maps to FIBO FBC/PaymentStatus enumeration" .

:TransactionIDVariable a owl:Class ;
    rdfs:subClassOf yawls:Variable ;
    rdfs:label "Transaction ID" ;
    rdfs:comment "Reference identifier from payment processor (for audit/settlement)" ;
    owl:hasNote "Links to FIBO FBC/Transaction" .

:InventoryStatusVariable a owl:Class ;
    rdfs:subClassOf yawls:Variable ;
    rdfs:label "Inventory Status" ;
    rdfs:comment "Stock availability (InStock, OutOfStock, PartialStock)" ;
    owl:hasNote "Maps to FIBO FND/Arrangement Status" .

:BackorderIDVariable a owl:Class ;
    rdfs:subClassOf yawls:Variable ;
    rdfs:label "Backorder ID" ;
    rdfs:comment "Reference for deferred fulfillment agreement" ;
    owl:hasNote "Maps to FIBO FBC/BackorderAgreement" .

:TrackingNumberVariable a owl:Class ;
    rdfs:subClassOf yawls:Variable ;
    rdfs:label "Tracking Number" ;
    rdfs:comment "Shipping tracking reference from carrier" ;
    owl:hasNote "Maps to FIBO FBC/Shipment + TrackingIdentifier" .

#################################################################
# COMPLIANCE AND REGULATORY ALIGNMENTS
#################################################################

:FinancialComplianceFramework a owl:Class ;
    rdfs:label "Financial Compliance Framework" ;
    rdfs:comment """
        Using FIBO-aligned YAWL workflows enables compliance with financial
        regulations:

        1. PCI-DSS (Payment Card Industry Data Security Standard):
           - Payment data isolation (ProcessPayment task handles sensitively)
           - Data encryption in transit (payment processor connection)
           - Audit trails (all payment transactions logged)
           FIBO alignment: Payment status tracking enables audit compliance

        2. GDPR (General Data Protection Regulation):
           - Customer data flows tracked through NotifyCustomer task
           - Right to deletion: can identify all cases involving a customer
           - Consent management: order creation with consent flags
           FIBO alignment: Party relationships explicitly documented

        3. SOX (Sarbanes-Oxley) for financial transaction controls:
           - All payment transactions must be recorded and audited
           - Segregation of duties (different roles handle payment, inventory)
           - Exception reporting (payment failures, backorders, delays)
           FIBO alignment: Financial artifact tracking (invoices, payments)

        YAWL + FIBO advantage: Standard definitions enable auditors and
        compliance officers to understand the process without learning
        proprietary frameworks.
    """@en .

#################################################################
# CONSERVATIVE ALIGNMENT NOTES
#################################################################

:AlignmentNotes a owl:Class ;
    rdfs:comment """
        This alignment profile is intentionally conservative:

        1. No owl:equivalentClass used except where mapping is exact
           - We use rdfs:subClassOf to indicate specialization
           - We use rdfs:seeAlso for related but distinct concepts

        2. Only Order Fulfillment workflow covered
           - FIBO is vast (securities, derivatives, loan origination, etc.)
           - This profile covers only e-commerce/payment domain

        3. FIBO is still evolving
           - Some mappings may change with future FIBO versions
           - Version compatibility documented where needed

        4. YAWL adds value beyond FIBO
           - FIBO defines WHAT financial artifacts are
           - YAWL defines HOW to orchestrate creation/processing
           - This is specialization, not reduction

        5. Additional FIBO domains not covered
           - FIBO FBC (Financial Business and Commerce): covered
           - FIBO FND (Foundations): partially covered
           - FIBO LOAN, FI, BE, DER: out of scope for this profile
    """@en .

# End of YAWL FIBO Alignment Profile
