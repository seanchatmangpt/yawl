{
  "workflow": {
    "id": "order_processing_reference",
    "name": "Order Processing Workflow (Reference)",
    "version": "1.0.0",
    "namespace": "org.yawlfoundation.yawl.dspy.orders",
    "author": "Reference Implementation",
    "description": "Perfect order processing workflow for footprint agreement testing"
  },
  "net": {
    "places": [
      {
        "id": "start",
        "name": "Start",
        "type": "input",
        "capacity": 1
      },
      {
        "id": "validate_order",
        "name": "Validate Order",
        "type": "task",
        "capacity": 1
      },
      {
        "id": "check_inventory",
        "name": "Check Inventory",
        "type": "task",
        "capacity": 1
      },
      {
        "id": "inventory_available",
        "name": "Inventory Available",
        "type": "condition",
        "capacity": 1
      },
      {
        "id": "inventory_unavailable",
        "name": "Inventory Unavailable",
        "type": "condition",
        "capacity": 1
      },
      {
        "id": "process_payment",
        "name": "Process Payment",
        "type": "task",
        "capacity": 1
      },
      {
        "id": "payment_successful",
        "name": "Payment Successful",
        "type": "condition",
        "capacity": 1
      },
      {
        "id": "payment_failed",
        "name": "Payment Failed",
        "type": "condition",
        "capacity": 1
      },
      {
        "id": "ship_order",
        "name": "Ship Order",
        "type": "task",
        "capacity": 1
      },
      {
        "id": "send_notification",
        "name": "Send Notification",
        "type": "task",
        "capacity": 1
      },
      {
        "id": "cancel_order",
        "name": "Cancel Order",
        "type": "task",
        "capacity": 1
      },
      {
        "id": "end_success",
        "name": "End Success",
        "type": "output",
        "capacity": 1
      },
      {
        "id": "end_failure",
        "name": "End Failure",
        "type": "output",
        "capacity": 1
      }
    ],
    "transitions": [
      {
        "id": "t_validate",
        "name": "Validate Order",
        "type": "atomic",
        "join_mode": "and",
        "split_mode": "xor"
      },
      {
        "id": "t_check_inventory",
        "name": "Check Inventory",
        "type": "atomic",
        "join_mode": "and",
        "split_mode": "xor"
      },
      {
        "id": "t_process_payment",
        "name": "Process Payment",
        "type": "atomic",
        "join_mode": "and",
        "split_mode": "xor"
      },
      {
        "id": "t_ship_order",
        "name": "Ship Order",
        "type": "atomic",
        "join_mode": "and",
        "split_mode": "xor"
      },
      {
        "id": "t_send_notification",
        "name": "Send Notification",
        "type": "atomic",
        "join_mode": "and",
        "split_mode": "and"
      },
      {
        "id": "t_cancel_order",
        "name": "Cancel Order",
        "type": "atomic",
        "join_mode": "and",
        "split_mode": "xor"
      }
    ],
    "flows": [
      {
        "source": "start",
        "target": "t_validate"
      },
      {
        "source": "t_validate",
        "target": "validate_order"
      },
      {
        "source": "validate_order",
        "target": "t_check_inventory"
      },
      {
        "source": "t_check_inventory",
        "target": "check_inventory"
      },
      {
        "source": "check_inventory",
        "target": "inventory_available"
      },
      {
        "source": "check_inventory",
        "target": "inventory_unavailable"
      },
      {
        "source": "inventory_available",
        "target": "t_process_payment"
      },
      {
        "source": "inventory_unavailable",
        "target": "t_cancel_order"
      },
      {
        "source": "t_process_payment",
        "target": "process_payment"
      },
      {
        "source": "process_payment",
        "target": "payment_successful"
      },
      {
        "source": "process_payment",
        "target": "payment_failed"
      },
      {
        "source": "payment_successful",
        "target": "t_ship_order"
      },
      {
        "source": "payment_failed",
        "target": "t_cancel_order"
      },
      {
        "source": "t_ship_order",
        "target": "ship_order"
      },
      {
        "source": "ship_order",
        "target": "t_send_notification"
      },
      {
        "source": "t_send_notification",
        "target": "send_notification"
      },
      {
        "source": "send_notification",
        "target": "end_success"
      },
      {
        "source": "t_cancel_order",
        "target": "cancel_order"
      },
      {
        "source": "cancel_order",
        "target": "t_send_notification"
      }
    ]
  },
  "behavioral_footprint": {
    "reachable_states": 15,
    "live_transitions": 6,
    "soundness": {
      "is_sound": true,
      "has_deadlocks": false,
      "has_livelocks": false
    },
    "liveness": {
      "progress_measure": 8,
      "coverability_tree_depth": 5
    },
    "invariants": [
      {
        "type": "place_invariant",
        "expression": "M(start) + M(end_success) + M(end_failure) = 1",
        "description": "Total tokens in output places equals 1"
      }
    ]
  },
  "test_scenarios": [
    {
      "name": "Normal Order Processing",
      "initial_state": ["start"],
      "expected_path": [
        "validate_order",
        "check_inventory",
        "process_payment",
        "ship_order",
        "send_notification",
        "end_success"
      ],
      "success_probability": 1.0
    },
    {
      "name": "Inventory Unavailable",
      "initial_state": ["start"],
      "expected_path": [
        "validate_order",
        "check_inventory",
        "cancel_order",
        "send_notification",
        "end_failure"
      ],
      "success_probability": 0.3
    },
    {
      "name": "Payment Failed",
      "initial_state": ["start"],
      "expected_path": [
        "validate_order",
        "check_inventory",
        "process_payment",
        "cancel_order",
        "send_notification",
        "end_failure"
      ],
      "success_probability": 0.1
    }
  ]
}