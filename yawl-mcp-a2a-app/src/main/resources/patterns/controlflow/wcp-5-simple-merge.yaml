# WCP-5: Simple Merge Pattern
# Merge two alternative branches without synchronization

name: SimpleMergePattern
uri: simple-merge.xml
first: TaskA

variables:
  - name: transactionId
    type: xs:string
    default: ""
  - name: amount
    type: xs:decimal
    default: "0.0"
  - name: path
    type: xs:string
    default: "none"

tasks:
  - id: TaskA
    flows: [TaskB, TaskC]
    condition: amount > 500 -> TaskB
    default: TaskC
    split: xor
    join: xor
    description: "Route based on amount (high-value if > 500, standard if <= 500)"

  - id: TaskB
    flows: [TaskD]
    split: xor
    join: xor
    description: "High value path (updates path variable to 'high')"

  - id: TaskC
    flows: [TaskD]
    split: xor
    join: xor
    description: "Standard path (updates path variable to 'standard')"

  - id: TaskD
    flows: [end]
    split: xor
    join: xor
    description: "Merge point - continue with single thread (no synchronization, fires immediately)"
