# YAWL v6.0.0-Beta Requirements

**Version**: 6.0.0-Beta Target
**Date**: 2026-02-22
**Classification**: Engineering Standard
**Status**: ACTIVE — Required for Beta release decision
**Branch**: claude/document-v6-requirements-ZZ6h8

---

## Related Documents

| Document | Location | Purpose |
|----------|----------|---------|
| Definition of Done | `docs/v6/DEFINITION-OF-DONE.md` | 7-gate formal specification |
| Assessment Report | `docs/v6/ASSESSMENT-REPORT.md` | Current state (Feb 18, 2026) |
| Integration Report | `docs/v6/V6.0.0-FINAL-INTEGRATION-REPORT.md` | Alpha integration status |
| Module Facts | `docs/v6/latest/facts/modules.json` | 13-module inventory |
| Test Facts | `docs/v6/latest/facts/tests.json` | Test count and topology |
| Gate Facts | `docs/v6/latest/facts/gates.json` | Quality gate configuration |
| Integration Facts | `docs/v6/latest/facts/integration.json` | MCP/A2A/ZAI status |
| Coverage Facts | `docs/v6/latest/facts/coverage.json` | Code coverage (pending) |

---

## 1. Version Progression Model

YAWL v6 follows a three-stage release progression:

```
Alpha  →  Beta  →  GA (General Availability)
```

### Alpha (Current: 6.0.0-Alpha)

- Core engine feature-complete on Petri net semantics
- Compiler exclusions acceptable (SDK mismatches documented)
- JaCoCo coverage not yet measured
- Integration tests not yet in CI pipeline
- Observable deferrals (`UnsupportedOperationException`) permitted in secondary features

### Beta (Target: 6.0.0-Beta)

- Zero compiler exclusions in core modules (yawl-utilities through yawl-monitoring)
- yawl-integration exclusions resolved: MCP SDK upgraded, A2A SDK errors fixed
- JaCoCo coverage baseline established: ≥65% line, ≥55% branch
- Integration tests (Failsafe) passing in CI pipeline
- Performance baseline measured and documented
- All deferrals explicitly named and scheduled (v6.0.1 or GA)
- SBOM generated and vulnerability-scanned

### GA (6.0.0)

- All 7 quality gates pass with zero exceptions for all 13 modules
- No deferrals: every public method either implements real logic or is not present
- Full security hardening: SPIFFE/MTLS, OAuth2/RBAC, audit logging active
- Benchmark regression suite green for all performance targets
- Production deployment validated on all supported platforms

---

## 2. Beta Entry Criteria

All 10 criteria must be satisfied. No exceptions. No gate can be bypassed.

| # | Criterion | Gate | Verification Command | Current Status |
|---|-----------|------|---------------------|----------------|
| B1 | Full reactor compiles — zero exclusions in core modules | G_compile | `mvn -T 1.5C clean compile` | REQUIRED |
| B2 | All 439+ tests pass (100% success rate) | G_test | `bash scripts/dx.sh all` | REQUIRED |
| B3 | 14 guard patterns absent from all `src/` files | G_guard | `.claude/hooks/hyper-validate.sh` | REQUIRED |
| B4 | SpotBugs=0, PMD=0, Checkstyle=0 | G_analysis | `mvn verify -P analysis` | GREEN |
| B5 | JaCoCo ≥65% line coverage, ≥55% branch coverage | G_analysis | `mvn verify -P coverage` | PENDING |
| B6 | SBOM generated; no CVEs at CVSS≥7.0 | G_security | `mvn verify -P prod` | PENDING |
| B7 | `package-info.java` present for all 89+ packages | G_documentation | `find src/ -name package-info.java` | VERIFY |
| B8 | Integration tests pass (Failsafe `**/*IT.java`) | G_release | `mvn verify -P ci` | PENDING |
| B9 | Performance: no regression >10% from baseline | G_release | JMH benchmark suite | REQUIRED |
| B10 | Observatory facts current (<24h at release time) | Ψ | `bash scripts/observatory/observatory.sh` | AUTO |

**Verification of B4 (current)**:

From `docs/v6/latest/facts/static-analysis.json` (2026-02-22):
- SpotBugs: 0 findings
- PMD: 0 violations
- Checkstyle: 0 warnings
- Health score: 100/100

**Gap for B5** (coverage):

From `docs/v6/latest/facts/coverage.json`: No JaCoCo reports generated. Coverage is
zero measured, not zero actual. Run `mvn verify -P coverage` to establish baseline.
Target: line≥65%, branch≥55% per `docs/v6/DEFINITION-OF-DONE.md` Section 3.4.

---

## 3. Functional Requirements

### 3.1 Core Engine (yawl-engine)

The stateful workflow engine must satisfy all of the following:

**Workflow Execution**:
- `YEngine.launchCase(YSpecificationID, String)` launches a workflow instance from a specification
- Case lifecycle: launched → active → (suspended|cancelled) → completed
- `YEngine.cancelCase(YIdentifier)` cancels a running case and cleans up all work items
- `YEngine.getRunningCases()` returns all active case identifiers

**Petri Net Semantics** (from `YNetRunner`):
- AND-split: all outgoing branches enabled simultaneously
- AND-join: waits for all incoming branches before proceeding
- OR-split: one or more branches enabled based on guard evaluation
- OR-join: proceeds when first incoming branch completes
- XOR-split: exactly one branch enabled (conditions are mutually exclusive)
- XOR-join: proceeds on first incoming branch (no synchronization)

**Work Item State Machine**:

```
ENABLED → EXECUTING → COMPLETE → FIRED
    ↓          ↓
 SUSPENDED  SUSPENDED
```

All state transitions must be atomic and consistent with Petri net marking rules.

**Persistence**:
- H2 in-memory: test environments
- PostgreSQL 15+: production (tested)
- MySQL 8+: production (tested)
- Hibernate ORM manages schema lifecycle (`hbm2ddl.auto`)
- HikariCP connection pooling

**Event Publication** (Interface B):
- `YAnnouncer.announceCaseLaunch(YWorkItem)` fires on case start
- `YAnnouncer.announceWorkItemStatusChange(YWorkItem, YWorkItemStatus, YWorkItemStatus)` fires on every status change
- `YAnnouncer.announceCaseCompletion(YIdentifier)` fires on case end
- All registered `InterfaceBGateway` implementations receive events

**Java 25 Compliance** (Beta-required):
- Virtual threads: `Thread.ofVirtual().start(...)` for concurrent case execution
- Sealed state machine: `YWorkItemStatus` uses sealed interface hierarchy
- Record DTOs: immutable data-transfer objects use `record`
- Pattern matching: `instanceof` patterns in type-dispatch code

### 3.2 Stateless Engine (yawl-stateless)

- `YStatelessEngine` executes workflows without database persistence
- Event-driven: produces case state events without requiring Hibernate
- `YCaseMonitor` provides real-time snapshots of case state
- `YCaseImporter` deserializes case state from JSON
- `YCaseExporter` serializes case state to JSON
- API interface-compatible with `YEngine` (accepts same `YSpecification` input)

### 3.3 Resource Management (yawl-resourcing)

- Work queues per participant state: offered, allocated, started, suspended, completed
- Resource allocation: minimum 2 strategies implemented (round-robin, capability-based)
- `ResourceManager.offerWorkItem(YWorkItem, List<Participant>)` offers work
- `ResourceManager.allocateWorkItem(YWorkItem, Participant)` allocates to individual
- Participant CRUD: create, read, update, delete participants
- Role management: assign/remove participants from roles
- Capability management: assign/remove capabilities from participants

### 3.4 Authentication (yawl-authentication)

- JWT session creation: `YSessionCache.createSession(String clientID)` returns signed JWT
- JWT validation: `YSessionCache.validateSession(String token)` verifies signature and expiry
- Session expiry: sessions expire per configured TTL (default 30 minutes)
- CSRF tokens: `CsrfTokenManager.generateToken()` returns opaque token
- CSRF validation: `CsrfProtectionFilter` rejects requests with missing/invalid CSRF token
- Service accounts: inter-service calls authenticate via service account credentials

**Beta-deferred** (GA):
- `SecurityAuditLogger`: `throw new UnsupportedOperationException(...)` acceptable for Beta

### 3.5 Security (yawl-security)

- Certificate loading: `PKIService.loadCertificate(Path)` reads PEM/DER
- Digital signatures: `PKIService.sign(byte[], PrivateKey)` returns signature
- Signature verification: `PKIService.verify(byte[], byte[], PublicKey)` returns boolean
- Bouncy Castle provider registered: RSA-3072 minimum key size, AES-GCM cipher
- Certificate chain validation: validates against trusted CA store

**Beta-deferred** (GA):
- `CredentialManager` / `CredentialManagerFactory`: `throw new UnsupportedOperationException(...)` acceptable for Beta

### 3.6 Integration — Beta Scope (yawl-integration)

**In Beta**:

MCP Server (`YawlMcpServer`):
- Transport: STDIO (standard MCP transport)
- Tool: `launch_case` — starts a workflow case from a specification ID
- Tool: `cancel_case` — cancels a running case by case ID
- Tool: `get_case_state` — retrieves current case state and work items
- Tool: `list_specifications` — lists all deployed workflow specifications
- Tool: `get_workitems` — retrieves work items (filtered by status, participant)
- Tool: `complete_workitem` — completes a work item with output data
- All 6 tools return structured JSON per MCP protocol
- MCP SDK version: 1.0.0-RC1 or later (resolves current v0.18.1 API mismatch)

A2A Server (`YawlA2AServer`):
- Port: 8081
- Skill: `launch_workflow` — agent-initiated case launch
- Skill: `query_workflows` — query active workflows by criteria
- Skill: `manage_workitems` — agent-managed work item lifecycle
- Skill: `cancel_workflow` — agent-initiated case cancellation
- All 4 skills conform to A2A protocol specification
- A2A SDK compilation errors resolved (pre-existing issue in Alpha)

Event Sourcing (basic):
- Case state change events published to event bus
- Work item state change events persisted for replay

**Deferred to v6.0.1** (not in Beta):

| Feature | Reason for Deferral | Module |
|---------|--------------------|----|
| ZAI/GLM-4 integration | Requires Pm4Py — not in Maven cache | yawl-integration |
| OAuth2 enforcement / RBAC | Complex security layer; needs security review | yawl-integration |
| SPIFFE/MTLS zero-trust | Requires SPIFFE workload identity infrastructure | yawl-integration |
| Process mining (Pm4Py) | Python dependency not resolved | yawl-integration |
| Webhook signing | HMAC-SHA256 signing not implemented | yawl-integration |
| Conflict resolution (`ConflictResolver`) | A2A dependency | yawl-integration |
| Gateway configs (AWS/Kong/Traefik) | Infrastructure-specific | yawl-integration |

### 3.7 Monitoring (yawl-monitoring)

- OpenTelemetry tracing: span per case launch, task execution, task completion
- Trace context propagation: W3C TraceContext headers across async operations
- Micrometer metrics:
  - `yawl.task.queue.depth` gauge: current work items in queue
  - `yawl.case.duration` timer: case lifecycle duration histogram
  - `yawl.task.completion` counter: tasks completed per minute
  - `yawl.error.rate` counter: failed tasks per minute
- Structured logging: all log entries include `traceId`, `caseId` (no PII)
- Log level: INFO in production, DEBUG available per request

**Beta-deferred** (GA):
- Prometheus exporter: `OpenTelemetryConfig` excluded pending `prometheus-metrics-exporter` cache

### 3.8 Schema Validation

- `schema/YAWL_Schema4.0.xsd` is the authoritative schema
- All shipped example specifications in `exampleSpecs/` validate against it
- Verification: `xmllint --schema schema/YAWL_Schema4.0.xsd <spec.xml>` exits 0
- `YSpecification.unmarshal(String)` rejects documents that fail schema validation

### 3.9 Web Applications (yawl-webapps)

- `yawl-engine-webapp.war` deploys to:
  - Jetty 12.x (Servlet 6.0)
  - Tomcat 11.x (Servlet 6.0)
  - WildFly 34.x (Jakarta EE 10)
- REST API endpoints implemented via JAX-RS
- `openapi-v6.yaml` accurately reflects deployed API (no specification drift)
- Engine starts within 30 seconds of WAR deployment

### 3.10 Control Panel (yawl-control-panel)

- Swing application connects to running `YEngine` over configured endpoint
- Deploy specification: load `.yawl` file, validate, deploy to engine
- Undeploy specification: remove from engine
- Case monitoring: view running cases and their work items
- Case cancellation: cancel any active case from the UI

---

## 4. Non-Functional Requirements

### 4.1 Performance Targets

Baselines from `README.md` (Java 25 optimizations, documented in project):

| Metric | Target | Measurement | Tolerance |
|--------|--------|-------------|-----------|
| Case launch latency | p95 < 500ms | JMH benchmark | 10% regression limit |
| Work item completion | p95 < 200ms | JMH benchmark | 10% regression limit |
| Virtual threads (1000 agents) | ~1MB heap | JVM metrics | Hard limit |
| Engine startup (WAR) | < 2.4s | Deployment timer | Soft target |
| Clean compile (`-T 1.5C`) | < 90s | `mvn -T 1.5C clean compile` | Hard limit |
| Full test suite | < 120s | `mvn -T 1.5C clean test` | Hard limit |
| `dx.sh all` | < 60s | `bash scripts/dx.sh all` | Soft target |
| Observatory analysis | < 10s | `bash scripts/observatory/observatory.sh` | Soft target |

### 4.2 Security Requirements

| ID | Requirement | Verification |
|----|-------------|-------------|
| S1 | Java 25.0.2 or later | `java -version` |
| S2 | No deprecated-for-removal API usage | `jdeprscan --for-removal --class-path ... src/` |
| S3 | TLS 1.3 enforced; TLS 1.1 and earlier disabled | JVM flag `-Djdk.tls.disabledAlgorithms=TLSv1,TLSv1.1,RC4,DES,MD5withRSA,...` |
| S4 | RSA keys ≥3072 bits; AES-GCM only (no ECB/CBC) | Crypto config audit |
| S5 | No `SecurityManager` usage (removed JDK 24+) | `grep -r SecurityManager src/` returns empty |
| S6 | All SQL via `PreparedStatement`; no string concatenation | Code review |
| S7 | No `ObjectInputStream` on untrusted input | `grep -r ObjectInputStream src/` audit |
| S8 | SBOM generated (`mvn cyclonedx:makeBom`); scanned clean | `grype sbom:sbom.json` — no CVSS≥7 |
| S9 | No passwords, tokens, or PII in log output | Log audit |
| S10 | Generic error messages to end users; correlation IDs only | Manual review |

**OWASP Top 10 coverage for Beta**:
- A01 Broken Access Control: Spring Security or custom RBAC (A2A/MCP endpoints protected)
- A03 Injection: Parameterized SQL everywhere
- A05 Security Misconfiguration: JVM hardening flags documented and enforced
- A07 Authentication Failures: JWT + session expiry
- A09 Security Logging: Structured logs with correlation IDs (no PII)
- A10 Exception Handling: No stack traces in responses

### 4.3 Build & CI Requirements

- Build must be reproducible on `temurin-25-jdk` (exact version pinned)
- Maven 3.9.x compatible
- Parallel execution `-T 1.5C` must succeed without race conditions
- Forbidden in CI pipeline (RED flags from `docs/v6/latest/facts/gates.json`):
  - `-DskipTests=true`
  - `-DskipITs=true`
  - `-Denforcer.skip=true`
- FMEA mitigations verified for high-RPN failures:
  - FM1 (RPN 216): `shared-src.json` — no shared file ownership conflicts
  - FM2 (RPN 224): `dual-family.json` — stateful/stateless class families mapped
  - FM3 (RPN 210): `deps-conflicts.json` — no version skew in dependencies

### 4.4 Reliability Requirements

- Database failover: engine logs and throws on connection failure (no silent degradation)
- Graceful shutdown: `YEngine.shutdown()` drains active work items before exit
- Config validation at startup: missing required configuration throws at boot (fail-fast)
- No silent fallbacks: exception handlers log + rethrow (no catch-and-return-fake)
- Circuit breaker: external service calls (MCP, A2A) have timeout + retry limits

---

## 5. Module Readiness Matrix

| Module | Role | Current Status | Beta Gaps | Acceptable Deferrals |
|--------|------|----------------|-----------|----------------------|
| yawl-utilities | Core | STABLE | None | None |
| yawl-elements | Core | STABLE | None | None |
| yawl-authentication | Core | STABLE | None | SecurityAuditLogger → GA |
| yawl-engine | Core | STABLE | Validate IB controller | InterfaceBWebsideController → GA |
| yawl-stateless | Core | STABLE | None | None |
| yawl-resourcing | Core | STABLE | None | None |
| yawl-scheduling | Core | STABLE | None | None |
| yawl-security | Core | STABLE | None | CredentialManager → GA |
| yawl-integration | Scoped | **AT RISK** | MCP SDK upgrade to 1.0.0-RC1+; A2A SDK fix; remove 48 compiler exclusions | ZAI, OAuth2, SPIFFE, Pm4Py → v6.0.1 |
| yawl-monitoring | Core | STABLE | None | Prometheus exporter → GA |
| yawl-webapps | Core | STABLE | API completeness vs openapi-v6.yaml | None |
| yawl-control-panel | Core | STABLE | None | None |
| yawl-mcp-a2a-app | Preview | **AT RISK** | Resolves when yawl-integration fixed | Inherits integration deferrals |

**AT RISK explanation for yawl-integration**:

From `yawl-integration/pom.xml` as of 2026-02-22:
- 48 compiler exclusions due to MCP SDK v0.18.1 API mismatch with `YawlMcpServer`
- A2A SDK pre-existing compilation errors in a2asdk v1.0.0.Alpha2
- Missing `Pm4Py` transitive dependency blocks `ZaiFunctionService`
- Missing OpenTelemetry SDK internals blocks `OpenTelemetryInitializer`

These must be resolved before Beta. Resolution path:
1. Upgrade MCP SDK: `io.modelcontextprotocol.sdk` → `1.0.0-RC1` (or later stable)
2. Fix A2A SDK: resolve or replace `io.github.a2asdk:1.0.0.Alpha2` compilation errors
3. Defer ZAI/Pm4Py classes with `UnsupportedOperationException` and remove from compile

---

## 6. Test Requirements

### 6.1 Test Pass Rate

All tests must pass at 100%. Zero failures. Zero errors. No skipped tests without
`@Disabled("reason")` annotation.

From `docs/v6/latest/facts/tests.json` (2026-02-22):
- Total test files: 439
- JUnit 5: 325
- JUnit 4 (legacy): 7
- Modules with dedicated tests: shared-root-test (421), yawl-mcp-a2a-app (9), yawl-utilities (9)

### 6.2 Coverage Targets

| Metric | Target | Current | Action Required |
|--------|--------|---------|-----------------|
| Line coverage | ≥65% | 0% measured | Run `mvn verify -P coverage` |
| Branch coverage | ≥55% | 0% measured | Run `mvn verify -P coverage` |
| JaCoCo report present | Yes | No | CI pipeline must include coverage phase |

Coverage is configured in `docs/v6/latest/facts/gates.json` under `jacoco_check` profile.

### 6.3 Integration Tests

Integration tests (`**/*IT.java`) must pass via Failsafe:

```bash
mvn verify -P ci
```

These tests are not yet in the CI pipeline as of 2026-02-22. Before Beta, the pipeline
must include a Failsafe phase that runs all integration tests.

### 6.4 Architecture Tests

Architecture tests enforcing module boundaries must pass. These test:
- No circular dependencies between modules
- No `yawl-engine` importing from `yawl-integration`
- Correct package ownership per `docs/v6/latest/facts/shared-src.json`

### 6.5 Performance Benchmarks (JMH)

Before Beta, a performance baseline must be established:
1. Run JMH benchmarks on `yawl-engine` core operations
2. Record baseline in `docs/v6/performance/` (benchmark results + hardware profile)
3. Any commit that causes >10% regression must not enter Beta

### 6.6 Chicago TDD Compliance

All new tests follow Chicago-school TDD conventions (from `.claude/rules/testing/chicago-tdd.md`):
- Test real objects, not mocks, where possible
- Mock only at architectural boundaries (external systems, I/O)
- No `@Mock` in `src/` (H14 guard enforces this)

---

## 7. Java 25 Compliance Requirements

### Phase 1 (Beta-Required)

| Pattern | Location | Requirement |
|---------|----------|-------------|
| Virtual threads | `YEngine`, async case execution | `Thread.ofVirtual().start(task)` |
| Sealed state machine | `YWorkItemStatus` | `sealed interface` with `permits` clause |
| Record DTOs | Key immutable transfer objects | `record YCaseData(...)` |
| Pattern matching | Type-dispatch code | `instanceof YTask t` pattern |
| Text blocks | Multi-line XML/JSON literals | `"""..."""` |

### Phase 2 (Beta-Desired, GA-Required)

| Pattern | Location | Requirement |
|---------|----------|-------------|
| CQRS for Interface B | `InterfaceBClient` | Split into command + query interfaces |
| Reactive event pipeline | `YAnnouncer` | Predicate-based event filtering |

### Phase 3+ (GA-Required)

| Pattern | Location | Requirement |
|---------|----------|-------------|
| Module system (JPMS) | `module-info.java` per module | Boundary enforcement |
| Constructor injection | `YEngine` | Replace `YEngine.getInstance()` singleton |

---

## 8. Build Artifact Requirements for Beta

| Artifact | Format | Build Command | Contents |
|----------|--------|---------------|---------|
| `yawl-engine-webapp.war` | WAR | `mvn package -pl yawl-webapps` | REST API + HTML UI |
| `yawl-mcp-a2a-app.jar` | Executable JAR | `mvn package -pl yawl-mcp-a2a-app` | MCP + A2A servers |
| `yawl-control-panel.jar` | JAR | `mvn package -pl yawl-control-panel` | Swing management UI |
| `sbom.json` | CycloneDX 1.4 | `mvn cyclonedx:makeBom` | Full dependency inventory |
| `openapi-v6.yaml` | OpenAPI 3.1 | Pre-generated | REST API spec (must match code) |
| `MIGRATION-v5.2-to-v6.0.md` | Markdown | Pre-written | Upgrade instructions |

All artifacts must be signed with GPG (profile `sign-artifacts`).

---

## 9. Documentation Requirements

### 9.1 Package Documentation

All Java packages must have `package-info.java`. From `docs/v6/DEFINITION-OF-DONE.md`
Section 3.6: 89 packages currently documented. Any new packages added during Beta
development must have `package-info.java` before merge.

### 9.2 Existing Documentation (Verified Complete)

From `docs/v6/ASSESSMENT-REPORT.md` (Feb 18, 2026), these documents are complete:
- `docs/README.md` — documentation hub
- `docs/QUICK-START.md` — five-minute guide to running YAWL
- `docs/BUILD.md` — build system guide
- `docs/TESTING.md` — test execution guide
- `docs/deployment/JAVA25-GUIDE.md` — JVM configuration
- `docs/integration/MCP-SERVER-GUIDE.md` — MCP integration
- `docs/integration/A2A-SERVER-GUIDE.md` — A2A integration
- `docs/v6/DEFINITION-OF-DONE.md` — quality gates specification

### 9.3 Documentation to Verify Before Beta

| Document | Required Check |
|----------|----------------|
| `docs/MIGRATION-v5.2-to-v6.0.md` | Accurate for final Alpha→Beta changes |
| `docs/openapi.yaml` or `openapi-v6.yaml` | Matches deployed REST API (no drift) |
| `docs/QUICK-START.md` | Tested: fresh clone → engine running in 5 minutes |
| All `package-info.java` | Exists for every package in `src/` |

---

## 10. Known Limitations in Beta

These limitations are accepted for Beta and will be resolved before GA:

| Limitation | Affected Component | Resolution Target |
|------------|--------------------|------------------|
| `SecurityAuditLogger` not implemented | yawl-authentication | GA |
| `CredentialManager` not implemented | yawl-security | GA |
| `InterfaceBWebsideController` incomplete | yawl-engine | GA |
| Prometheus exporter excluded | yawl-monitoring | GA |
| `YHttpServlet` partial | yawl-engine | GA |
| ZAI/GLM-4 integration excluded | yawl-integration | v6.0.1 |
| OAuth2/RBAC not enforced | yawl-integration | v6.0.1 |
| SPIFFE/MTLS not active | yawl-integration | v6.0.1 |
| Process mining (Pm4Py) excluded | yawl-integration | v6.0.1 |
| Webhook signing not implemented | yawl-integration | v6.0.1 |
| Conflict resolution excluded | yawl-integration | v6.0.1 |
| JPMS `module-info.java` absent | All modules | GA |
| Constructor injection for YEngine | yawl-engine | GA |
| Reactive event pipeline (YAnnouncer) | yawl-engine | GA |

All components listed as "not implemented" or "excluded" throw
`UnsupportedOperationException` with a descriptive message. Silent fallbacks and mock
returns are forbidden (enforced by `hyper-validate.sh`).

---

## 11. Beta Readiness Checklist

This checklist is executable. Each item has a verifiable command or outcome.

### 11.1 Build Gate

```
[ ] B1: mvn -T 1.5C clean compile  →  BUILD SUCCESS (zero errors, zero exclusions in core)
[ ] B2: bash scripts/dx.sh all     →  ALL PASS (439+ tests, 0 failures, 0 errors)
[ ] B3: hyper-validate.sh auto     →  Zero guard violations on last Write/Edit
[ ] B4: mvn verify -P analysis     →  SpotBugs=0, PMD=0, Checkstyle=0  [CURRENT: PASS]
[ ] B5: mvn verify -P coverage     →  JaCoCo line≥65%, branch≥55%
```

### 11.2 Integration Gate

```
[ ] MCP SDK version: io.modelcontextprotocol.sdk ≥ 1.0.0-RC1 in pom.xml
[ ] A2A SDK: all compilation errors resolved in yawl-integration
[ ] Compiler exclusions in yawl-integration/pom.xml: ZERO for core integration classes
[ ] MCP tool smoke test: launch_case, get_case_state, complete_workitem return valid JSON
[ ] A2A skill smoke test: launch_workflow, query_workflows return valid A2A responses
[ ] Event sourcing: case state events published and replayable
```

### 11.3 Security Gate

```
[ ] B6: mvn verify -P prod         →  SBOM generated; grype reports no CVSS≥7
[ ] jdeprscan --for-removal        →  Zero deprecated API usages
[ ] grep SecurityManager src/      →  Empty (no SecurityManager references)
[ ] TLS config audit               →  TLS 1.3 enforced, 1.1 and earlier disabled
[ ] SQL audit                      →  All queries use PreparedStatement
```

### 11.4 Schema Gate

```
[ ] xmllint --schema schema/YAWL_Schema4.0.xsd exampleSpecs/*.xml  →  All valid
[ ] YSpecification.unmarshal() rejects invalid XML                  →  Throws on bad input
```

### 11.5 Test Gate

```
[ ] B8: mvn verify -P ci           →  Failsafe integration tests PASS
[ ] JMH benchmark suite            →  Baseline documented; no regression vs baseline
[ ] Architecture tests             →  Module boundary rules pass
[ ] B7: find src/ -name package-info.java | wc -l  →  ≥89
```

### 11.6 Documentation Gate

```
[ ] MIGRATION-v5.2-to-v6.0.md      →  Accurate and complete
[ ] openapi-v6.yaml                 →  Matches deployed API (validated via contract test)
[ ] QUICK-START.md smoke test       →  Fresh clone → running engine (no manual fixes needed)
[ ] Observatory facts               →  B10: bash scripts/observatory/observatory.sh (fresh run)
```

### 11.7 Deferrals Documented

```
[ ] ZAI/GLM-4 → v6.0.1             (tracked: ticket or release note)
[ ] OAuth2/RBAC → v6.0.1           (tracked)
[ ] SPIFFE/MTLS → v6.0.1           (tracked)
[ ] Prometheus exporter → GA        (tracked)
[ ] Process mining → v6.0.1        (tracked)
[ ] SecurityAuditLogger → GA        (tracked)
[ ] CredentialManager → GA          (tracked)
[ ] JPMS module-info → GA           (tracked)
```

---

## 12. FMEA Risk Verification

Before Beta, verify active mitigations for high-RPN failure modes:

| ID | Failure Mode | RPN | Required Action |
|----|-------------|-----|-----------------|
| FM1 | Shared Source Path Confusion | 216 | Read `facts/shared-src.json` before editing shared `src/`; verify no new file conflicts |
| FM2 | Dual-Family Class Confusion | 224 | Read `facts/dual-family.json`; verify stateful/stateless class mapping current |
| FM3 | Dependency Version Skew | 210 | Read `facts/deps-conflicts.json`; run `mvn dependency:analyze` before Beta release |
| FM6 | Gate Bypass via Skip Flags | 144 | Audit CI pipeline configuration; verify no RED skip flags active |
| FM7 | Reactor Order Violation | 105 | Read `facts/reactor.json`; verify any new modules in correct reactor position |

---

## 13. Observatory Requirements

Observatory facts must be current at the time of Beta release:

```bash
# Refresh facts (must be run within 24h of release tag)
bash scripts/observatory/observatory.sh

# Verify fact freshness
cat docs/v6/latest/receipts/observatory.json | python3 -c "
import json,sys
r = json.load(sys.stdin)
print('Status:', r['status'])
print('Health:', r['health_score'])
print('Facts:', r['facts_emitted'])
"
# Expected: Status: GREEN, Health: 100, Facts: 14
```

All 14 fact files must be present in `docs/v6/latest/facts/`:
- `modules.json`, `reactor.json`, `shared-src.json`, `dual-family.json`
- `tests.json`, `gates.json`, `static-analysis.json`, `integration.json`
- `coverage.json`, `deps-conflicts.json`, `maven-hazards.json`
- `duplicates.json`, `spotbugs-findings.json`, `pmd-violations.json`

---

*YAWL v6.0.0-Beta Requirements — Engineering Standard*
*Authority: A = μ(O) | drift(A) → 0 | Ψ → Λ → H → Q → Ω*
*All gates must be GREEN. No bypass. No exceptions.*
