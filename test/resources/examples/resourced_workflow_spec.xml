<?xml version="1.0" encoding="UTF-8"?>
<specificationSet version="4.0" xmlns="http://www.yawlfoundation.org/yawlschema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.yawlfoundation.org/yawlschema http://www.yawlfoundation.org/yawlschema/YAWL_Schema4.0.xsd">
  <specification uri="resourcedWorkflow">
    <metaData>
      <title>Resourced Workflow</title>
      <creator>YAWL Z.ai Generator</creator>
      <description>Workflow with human resource allocation</description>
      <version>1.0</version>
    </metaData>
    <decomposition id="resourcedFlow" xsi:type="NetFactsType" isRootNet="true">
      <name>Resourced Flow</name>
      <processControlElements>
        <inputCondition id="start">
          <name>Start</name>
          <flowsInto>
            <nextElementRef id="manualTask"/>
          </flowsInto>
        </inputCondition>
        <task id="manualTask">
          <name>Manual Task</name>
          <documentation>Task requiring human interaction</documentation>
          <flowsInto>
            <nextElementRef id="end"/>
          </flowsInto>
          <join code="xor"/>
          <split code="and"/>
          <decomposesTo id="manualTaskGateway"/>
          <resourcing>
            <offer initiator="system"/>
            <distributionSet>
              <initialSet>
                <participant>manager</participant>
                <participant>supervisor</participant>
              </initialSet>
              <filters>
                <filter name="roleFilter">
                  <param>
                    <name>department</name>
                    <refers>role</refers>
                  </param>
                </filter>
              </filters>
            </distributionSet>
            <allocate initiator="user"/>
            <start initiator="system"/>
            <privileges>
              <privilege name="canSuspend">
                <allowall>true</allowall>
              </privilege>
              <privilege name="canDelegate">
                <set>
                  <participant>delegateUser</participant>
                </set>
              </privilege>
            </privileges>
          </resourcing>
        </task>
        <outputCondition id="end">
          <name>End</name>
        </outputCondition>
      </processControlElements>
    </decomposition>
    <decomposition id="manualTaskGateway" xsi:type="WebServiceGatewayFactsType">
      <name>Manual Task Gateway</name>
      <documentation>Human task gateway</documentation>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
  </specification>
</specificationSet>