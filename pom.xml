<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>org.yawlfoundation</groupId>
    <artifactId>yawl-parent</artifactId>
    <version>6.0.0-Alpha</version>
    <packaging>pom</packaging>

    <name>YAWL Parent</name>
    <description>Parent POM for YAWL - Yet Another Workflow Language multi-module build</description>

    <developers>
        <developer>
            <id>schatman</id>
            <name>Sean Chatman</name>
            <roles>
                <role>Library Modernization Lead</role>
                <role>Architecture Consultant</role>
            </roles>
        </developer>
        <developer>
            <id>claude-code-team</id>
            <name>Claude Code Agent Team</name>
            <organization>Anthropic</organization>
            <roles>
                <role>AI-Assisted Development</role>
                <role>Code Quality Automation</role>
            </roles>
        </developer>
    </developers>

    <contributors>
        <contributor>
            <name>YAWL Foundation Team</name>
            <organization>YAWL Foundation</organization>
            <roles>
                <role>Original Authors</role>
            </roles>
        </contributor>
    </contributors>

    <modules>
        <module>yawl-utilities</module>
        <module>yawl-elements</module>
        <module>yawl-authentication</module>
        <module>yawl-engine</module>
        <module>yawl-stateless</module>
        <module>yawl-resourcing</module>
        <module>yawl-scheduling</module>
        <module>yawl-security</module>
        <module>yawl-integration</module>
        <module>yawl-monitoring</module>
        <module>yawl-webapps</module>
        <module>yawl-control-panel</module>
    </modules>

    <!-- ======================================================================
         PROPERTIES - single source of truth for all dependency versions.
         All child modules inherit these; never redeclare versions in children.
         ====================================================================== -->
    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
        <maven.compiler.release>25</maven.compiler.release>

        <!-- ================================================================ -->
        <!-- BOM versions - used as type=pom/scope=import in dependencyManagement -->
        <!-- ================================================================ -->
        <spring-boot.version>3.5.10</spring-boot.version>
        <jakarta-ee.version>10.0.0</jakarta-ee.version>
        <opentelemetry.version>1.52.0</opentelemetry.version>
        <opentelemetry-instrumentation.version>2.18.1</opentelemetry-instrumentation.version>
        <resilience4j.version>2.3.0</resilience4j.version>
        <testcontainers.version>1.21.3</testcontainers.version>
        <jackson.version>2.19.4</jackson.version>

        <!-- ================================================================ -->
        <!-- Jakarta EE standalone artifacts (not covered by Jakarta EE BOM)   -->
        <!-- ================================================================ -->
        <jakarta.servlet.version>6.1.0</jakarta.servlet.version>
        <jakarta.annotation.version>3.0.0</jakarta.annotation.version>
        <jakarta.persistence.version>3.2.0</jakarta.persistence.version>
        <jakarta.xml.bind.version>4.0.5</jakarta.xml.bind.version>
        <jakarta.mail.version>2.1.5</jakarta.mail.version>
        <angus.mail.version>2.0.5</angus.mail.version>
        <jakarta.activation.version>2.1.4</jakarta.activation.version>
        <angus.activation.version>2.0.3</angus.activation.version>
        <jakarta.faces.version>4.1.2</jakarta.faces.version>
        <jakarta.cdi.version>4.1.0</jakarta.cdi.version>
        <jakarta.ws.rs.version>4.0.0</jakarta.ws.rs.version>

        <!-- ================================================================ -->
        <!-- ORM                                                                -->
        <!-- ================================================================ -->
        <hibernate.version>6.6.42.Final</hibernate.version>

        <!-- ================================================================ -->
        <!-- Apache Commons                                                     -->
        <!-- ================================================================ -->
        <commons.lang3.version>3.20.0</commons.lang3.version>
        <commons.io.version>2.21.0</commons.io.version>
        <commons.codec.version>1.19.0</commons.codec.version>
        <commons.vfs2.version>2.10.0</commons.vfs2.version>
        <commons.collections4.version>4.5.0-M2</commons.collections4.version>
        <commons.dbcp2.version>2.14.0</commons.dbcp2.version>
        <commons.fileupload.version>1.6.0</commons.fileupload.version>
        <commons.pool2.version>2.13.1</commons.pool2.version>
        <commons.text.version>1.15.0</commons.text.version>
        <commons.beanutils.version>1.11.0</commons.beanutils.version>

        <!-- ================================================================ -->
        <!-- Database drivers                                                   -->
        <!-- ================================================================ -->
        <h2.version>2.4.240</h2.version>
        <postgresql.version>42.7.7</postgresql.version>
        <mysql.version>9.4.0</mysql.version>
        <derby.version>10.17.1.0</derby.version>
        <hsqldb.version>2.7.4</hsqldb.version>
        <hikaricp.version>7.0.2</hikaricp.version>

        <!-- ================================================================ -->
        <!-- Logging                                                            -->
        <!-- ================================================================ -->
        <log4j.version>2.25.3</log4j.version>
        <slf4j.version>2.0.17</slf4j.version>
        <jboss.logging.version>3.6.1.Final</jboss.logging.version>

        <!-- ================================================================ -->
        <!-- JSON / serialisation                                               -->
        <!-- ================================================================ -->
        <gson.version>2.13.2</gson.version>

        <!-- ================================================================ -->
        <!-- XML processing                                                     -->
        <!-- ================================================================ -->
        <jdom.version>2.0.6.1</jdom.version>
        <jaxen.version>1.2.0</jaxen.version>
        <saxon.version>12.9</saxon.version>
        <saaj.api.version>1.4.0</saaj.api.version>
        <saaj.impl.version>3.0.4</saaj.impl.version>

        <!-- ================================================================ -->
        <!-- HTTP clients                                                       -->
        <!-- ================================================================ -->
        <okhttp.version>5.1.0</okhttp.version>

        <!-- ================================================================ -->
        <!-- MCP / A2A integration SDKs                                        -->
        <!-- ================================================================ -->
        <mcp.version>0.17.2</mcp.version>
        <a2a.version>1.0.0.Alpha2</a2a.version>

        <!-- ================================================================ -->
        <!-- Security / auth                                                    -->
        <!-- ================================================================ -->
        <jjwt.version>0.13.0</jjwt.version>
        <microsoft.graph.version>6.61.0</microsoft.graph.version>
        <azure.identity.version>1.18.2</azure.identity.version>

        <!-- ================================================================ -->
        <!-- REST                                                               -->
        <!-- ================================================================ -->
        <jersey.version>4.0.2</jersey.version>

        <!-- ================================================================ -->
        <!-- Observability / metrics                                            -->
        <!-- ================================================================ -->
        <micrometer.version>1.16.3</micrometer.version>
        <opentelemetry.semconv.version>1.39.0</opentelemetry.semconv.version>

        <!-- ================================================================ -->
        <!-- Misc runtime support                                               -->
        <!-- ================================================================ -->
        <jspecify.version>1.0.0</jspecify.version>
        <jandex.version>3.3.1</jandex.version>
        <byte.buddy.version>1.18.5</byte.buddy.version>
        <classmate.version>1.7.3</classmate.version>
        <istack.version>4.2.0</istack.version>
        <jung.version>2.1.1</jung.version>
        <ant.version>1.10.15</ant.version>
        <simple-java-mail.version>8.12.6</simple-java-mail.version>

        <!-- ================================================================ -->
        <!-- Testing                                                            -->
        <!-- ================================================================ -->
        <junit.version>4.13.2</junit.version>
        <junit.jupiter.version>6.0.3</junit.jupiter.version>
        <junit.platform.version>6.0.3</junit.platform.version>
        <hamcrest.version>3.0</hamcrest.version>
        <quartz.version>2.5.0</quartz.version>
        <xmlunit.version>1.6</xmlunit.version>
        <jmh.version>1.37</jmh.version>

        <!-- ================================================================ -->
        <!-- Build plugins (pinned for reproducibility)                        -->
        <!-- ================================================================ -->
        <maven.compiler.plugin.version>3.14.0</maven.compiler.plugin.version>
        <maven.surefire.plugin.version>3.5.4</maven.surefire.plugin.version>
        <maven.failsafe.plugin.version>3.5.4</maven.failsafe.plugin.version>
        <maven.jar.plugin.version>3.5.0</maven.jar.plugin.version>
        <maven.war.plugin.version>3.4.0</maven.war.plugin.version>
        <maven.clean.plugin.version>3.2.0</maven.clean.plugin.version>
        <maven.resources.plugin.version>3.3.1</maven.resources.plugin.version>
        <maven.install.plugin.version>3.1.4</maven.install.plugin.version>
        <maven.deploy.plugin.version>3.1.4</maven.deploy.plugin.version>
        <maven.dependency.plugin.version>3.9.0</maven.dependency.plugin.version>
        <maven.enforcer.plugin.version>3.6.1</maven.enforcer.plugin.version>
        <versions.maven.plugin.version>2.18.0</versions.maven.plugin.version>
        <jacoco.plugin.version>0.8.13</jacoco.plugin.version>
        <jacoco.version>0.8.13</jacoco.version>
        <jacoco.line.coverage>0.50</jacoco.line.coverage>
        <jacoco.branch.coverage>0.40</jacoco.branch.coverage>
        <maven.javadoc.version>3.10.1</maven.javadoc.version>
        <spotless.version>2.44.4</spotless.version>
        <spotbugs.plugin.version>4.9.3.2</spotbugs.plugin.version>
        <checkstyle.plugin.version>3.6.0</checkstyle.plugin.version>
        <pmd.plugin.version>3.26.0</pmd.plugin.version>
        <sonar.plugin.version>5.1.0.4882</sonar.plugin.version>
        <owasp.dependency.check.version>12.2.0</owasp.dependency.check.version>
    </properties>

    <repositories>
        <repository>
            <id>central</id>
            <url>https://repo.maven.apache.org/maven2</url>
            <releases>
                <enabled>true</enabled>
            </releases>
            <snapshots>
                <enabled>false</enabled>
            </snapshots>
        </repository>
    </repositories>

    <!-- ======================================================================
         DEPENDENCY MANAGEMENT
         Order of sections:
           1.  Jakarta EE
           2.  ORM
           3.  Apache Commons
           4.  Database drivers
           5.  Logging
           6.  JSON / serialisation
           7.  XML processing
           8.  HTTP clients
           9.  MCP / A2A
          10.  Security / auth
          11.  REST
          12.  Observability
          13.  Graph algorithms
          14.  Support libraries
          15.  Testing (always test scope)

         BOM STRATEGY NOTE:
           Six upstream BOMs exist for this project and would normally be
           imported here as type=pom/scope=import entries:
             - org.springframework.boot:spring-boot-dependencies
             - io.opentelemetry:opentelemetry-bom
             - io.opentelemetry.instrumentation:opentelemetry-instrumentation-bom-alpha
             - io.github.resilience4j:resilience4j-bom
             - org.testcontainers:testcontainers-bom
             - com.fasterxml.jackson:jackson-bom

           These BOM imports are defined in the 'online' build profile below.
           The default build uses explicit version pins (this section) for
           offline/air-gapped compatibility. When network is available, activate
           the online profile: mvn -P online clean compile
           The BOMs then take precedence and reduce duplication.
         ====================================================================== -->
    <dependencyManagement>
        <dependencies>

            <!-- ============================================================== -->
            <!-- 0. YAWL INTERNAL MODULES                                      -->
            <!-- ============================================================== -->
            <dependency>
                <groupId>org.yawlfoundation</groupId>
                <artifactId>yawl-utilities</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.yawlfoundation</groupId>
                <artifactId>yawl-elements</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.yawlfoundation</groupId>
                <artifactId>yawl-engine</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.yawlfoundation</groupId>
                <artifactId>yawl-authentication</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.yawlfoundation</groupId>
                <artifactId>yawl-stateless</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.yawlfoundation</groupId>
                <artifactId>yawl-resourcing</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.yawlfoundation</groupId>
                <artifactId>yawl-worklet</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.yawlfoundation</groupId>
                <artifactId>yawl-scheduling</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.yawlfoundation</groupId>
                <artifactId>yawl-security</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.yawlfoundation</groupId>
                <artifactId>yawl-integration</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>org.yawlfoundation</groupId>
                <artifactId>yawl-monitoring</artifactId>
                <version>${project.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 0. SPRING BOOT STARTERS                                       -->
            <!--    Explicit entries provide offline fallback when the Spring   -->
            <!--    Boot BOM (online profile) is not active.                   -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-starter</artifactId>
                <version>${spring-boot.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-starter-web</artifactId>
                <version>${spring-boot.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-starter-actuator</artifactId>
                <version>${spring-boot.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-starter-test</artifactId>
                <version>${spring-boot.version}</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-autoconfigure</artifactId>
                <version>${spring-boot.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 1. JAKARTA EE                                                  -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>jakarta.servlet</groupId>
                <artifactId>jakarta.servlet-api</artifactId>
                <version>${jakarta.servlet.version}</version>
                <scope>provided</scope>
            </dependency>
            <dependency>
                <groupId>jakarta.annotation</groupId>
                <artifactId>jakarta.annotation-api</artifactId>
                <version>${jakarta.annotation.version}</version>
            </dependency>
            <dependency>
                <groupId>jakarta.persistence</groupId>
                <artifactId>jakarta.persistence-api</artifactId>
                <version>${jakarta.persistence.version}</version>
            </dependency>
            <dependency>
                <groupId>jakarta.xml.bind</groupId>
                <artifactId>jakarta.xml.bind-api</artifactId>
                <version>${jakarta.xml.bind.version}</version>
            </dependency>
            <dependency>
                <groupId>com.sun.xml.bind</groupId>
                <artifactId>jaxb-impl</artifactId>
                <version>${jakarta.xml.bind.version}</version>
            </dependency>
            <dependency>
                <groupId>jakarta.mail</groupId>
                <artifactId>jakarta.mail-api</artifactId>
                <version>${jakarta.mail.version}</version>
            </dependency>
            <dependency>
                <groupId>org.eclipse.angus</groupId>
                <artifactId>angus-mail</artifactId>
                <version>${angus.mail.version}</version>
            </dependency>
            <dependency>
                <groupId>jakarta.activation</groupId>
                <artifactId>jakarta.activation-api</artifactId>
                <version>${jakarta.activation.version}</version>
            </dependency>
            <dependency>
                <groupId>org.eclipse.angus</groupId>
                <artifactId>angus-activation</artifactId>
                <version>${angus.activation.version}</version>
            </dependency>
            <dependency>
                <groupId>jakarta.faces</groupId>
                <artifactId>jakarta.faces-api</artifactId>
                <version>${jakarta.faces.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish</groupId>
                <artifactId>jakarta.faces</artifactId>
                <version>${jakarta.faces.version}</version>
            </dependency>
            <dependency>
                <groupId>jakarta.enterprise</groupId>
                <artifactId>jakarta.enterprise.cdi-api</artifactId>
                <version>${jakarta.cdi.version}</version>
            </dependency>
            <dependency>
                <groupId>jakarta.ws.rs</groupId>
                <artifactId>jakarta.ws.rs-api</artifactId>
                <version>${jakarta.ws.rs.version}</version>
                <scope>provided</scope>
            </dependency>

            <!-- ============================================================== -->
            <!-- 3. ORM                                                         -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>org.hibernate.orm</groupId>
                <artifactId>hibernate-core</artifactId>
                <version>${hibernate.version}</version>
            </dependency>
            <dependency>
                <groupId>org.hibernate.orm</groupId>
                <artifactId>hibernate-hikaricp</artifactId>
                <version>${hibernate.version}</version>
            </dependency>
            <dependency>
                <groupId>org.hibernate.orm</groupId>
                <artifactId>hibernate-jcache</artifactId>
                <version>${hibernate.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 4. APACHE COMMONS                                              -->
            <!-- ============================================================== -->

            <!-- commons-lang3 uses org.apache.commons groupId -->
            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-lang3</artifactId>
                <version>${commons.lang3.version}</version>
            </dependency>
            <!-- commons-io: legacy groupId still used by many transitive deps -->
            <dependency>
                <groupId>commons-io</groupId>
                <artifactId>commons-io</artifactId>
                <version>${commons.io.version}</version>
            </dependency>
            <!-- commons-codec: legacy groupId still used by many transitive deps -->
            <dependency>
                <groupId>commons-codec</groupId>
                <artifactId>commons-codec</artifactId>
                <version>${commons.codec.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-codec</artifactId>
                <version>${commons.codec.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-vfs2</artifactId>
                <version>${commons.vfs2.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-collections4</artifactId>
                <version>${commons.collections4.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-dbcp2</artifactId>
                <version>${commons.dbcp2.version}</version>
            </dependency>
            <dependency>
                <groupId>commons-fileupload</groupId>
                <artifactId>commons-fileupload</artifactId>
                <version>${commons.fileupload.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-pool2</artifactId>
                <version>${commons.pool2.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.commons</groupId>
                <artifactId>commons-text</artifactId>
                <version>${commons.text.version}</version>
            </dependency>
            <dependency>
                <groupId>commons-beanutils</groupId>
                <artifactId>commons-beanutils</artifactId>
                <version>${commons.beanutils.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 5. DATABASE DRIVERS                                            -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>com.h2database</groupId>
                <artifactId>h2</artifactId>
                <version>${h2.version}</version>
            </dependency>
            <dependency>
                <groupId>org.postgresql</groupId>
                <artifactId>postgresql</artifactId>
                <version>${postgresql.version}</version>
            </dependency>
            <dependency>
                <groupId>com.mysql</groupId>
                <artifactId>mysql-connector-j</artifactId>
                <version>${mysql.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.derby</groupId>
                <artifactId>derbyclient</artifactId>
                <version>${derby.version}</version>
            </dependency>
            <dependency>
                <groupId>org.hsqldb</groupId>
                <artifactId>hsqldb</artifactId>
                <version>${hsqldb.version}</version>
            </dependency>
            <dependency>
                <groupId>com.zaxxer</groupId>
                <artifactId>HikariCP</artifactId>
                <version>${hikaricp.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 6. LOGGING                                                     -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-api</artifactId>
                <version>${log4j.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-core</artifactId>
                <version>${log4j.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-slf4j2-impl</artifactId>
                <version>${log4j.version}</version>
            </dependency>
            <!-- Exclude log4j-to-slf4j when it appears as a transitive dep
                 (Spring Boot pulls it in; it conflicts with log4j-slf4j2-impl).
                 Each module that needs this exclusion should declare it on the
                 offending transitive dependency. The version entry here ensures
                 the enforcer's requireUpperBoundDeps rule is satisfied. -->
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-to-slf4j</artifactId>
                <version>${log4j.version}</version>
            </dependency>
            <dependency>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
                <version>${slf4j.version}</version>
            </dependency>
            <dependency>
                <groupId>org.jboss.logging</groupId>
                <artifactId>jboss-logging</artifactId>
                <version>${jboss.logging.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 7. JSON / SERIALISATION                                        -->
            <!--    Explicit entries provide offline fallback when the Jackson  -->
            <!--    BOM (online profile) is not active.                        -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-databind</artifactId>
                <version>${jackson.version}</version>
            </dependency>
            <dependency>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-core</artifactId>
                <version>${jackson.version}</version>
            </dependency>
            <dependency>
                <groupId>com.fasterxml.jackson.core</groupId>
                <artifactId>jackson-annotations</artifactId>
                <version>${jackson.version}</version>
            </dependency>
            <dependency>
                <groupId>com.fasterxml.jackson.datatype</groupId>
                <artifactId>jackson-datatype-jdk8</artifactId>
                <version>${jackson.version}</version>
            </dependency>
            <dependency>
                <groupId>com.fasterxml.jackson.datatype</groupId>
                <artifactId>jackson-datatype-jsr310</artifactId>
                <version>${jackson.version}</version>
            </dependency>
            <dependency>
                <groupId>com.fasterxml.jackson.module</groupId>
                <artifactId>jackson-module-parameter-names</artifactId>
                <version>${jackson.version}</version>
            </dependency>
            <dependency>
                <groupId>com.google.code.gson</groupId>
                <artifactId>gson</artifactId>
                <version>${gson.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 8. XML PROCESSING                                              -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>org.jdom</groupId>
                <artifactId>jdom2</artifactId>
                <version>${jdom.version}</version>
            </dependency>
            <dependency>
                <groupId>jaxen</groupId>
                <artifactId>jaxen</artifactId>
                <version>${jaxen.version}</version>
            </dependency>
            <dependency>
                <groupId>net.sf.saxon</groupId>
                <artifactId>Saxon-HE</artifactId>
                <version>${saxon.version}</version>
            </dependency>
            <!-- SOAP API - javax namespace retained for backwards compatibility -->
            <dependency>
                <groupId>javax.xml.soap</groupId>
                <artifactId>javax.xml.soap-api</artifactId>
                <version>${saaj.api.version}</version>
            </dependency>
            <dependency>
                <groupId>com.sun.xml.messaging.saaj</groupId>
                <artifactId>saaj-impl</artifactId>
                <version>${saaj.impl.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 9. HTTP CLIENTS                                                -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>com.squareup.okhttp3</groupId>
                <artifactId>okhttp</artifactId>
                <version>${okhttp.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 10. MCP / A2A INTEGRATION SDKs                                -->
            <!--     Both SDKs are installed from local JARs (not Maven         -->
            <!--     Central). Versions are pinned here so child modules do     -->
            <!--     not repeat them.                                           -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>io.modelcontextprotocol.sdk</groupId>
                <artifactId>mcp</artifactId>
                <version>${mcp.version}</version>
            </dependency>
            <dependency>
                <groupId>io.modelcontextprotocol.sdk</groupId>
                <artifactId>mcp-core</artifactId>
                <version>${mcp.version}</version>
            </dependency>
            <dependency>
                <groupId>io.modelcontextprotocol.sdk</groupId>
                <artifactId>mcp-json</artifactId>
                <version>${mcp.version}</version>
            </dependency>
            <dependency>
                <groupId>io.modelcontextprotocol.sdk</groupId>
                <artifactId>mcp-json-jackson2</artifactId>
                <version>${mcp.version}</version>
            </dependency>
            <dependency>
                <groupId>io.anthropic</groupId>
                <artifactId>a2a-java-sdk-spec</artifactId>
                <version>${a2a.version}</version>
            </dependency>
            <dependency>
                <groupId>io.anthropic</groupId>
                <artifactId>a2a-java-sdk-common</artifactId>
                <version>${a2a.version}</version>
            </dependency>
            <dependency>
                <groupId>io.anthropic</groupId>
                <artifactId>a2a-java-sdk-server-common</artifactId>
                <version>${a2a.version}</version>
            </dependency>
            <dependency>
                <groupId>io.anthropic</groupId>
                <artifactId>a2a-java-sdk-transport-rest</artifactId>
                <version>${a2a.version}</version>
            </dependency>
            <dependency>
                <groupId>io.anthropic</groupId>
                <artifactId>a2a-java-sdk-http-client</artifactId>
                <version>${a2a.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 11. SECURITY / AUTH                                            -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>io.jsonwebtoken</groupId>
                <artifactId>jjwt-api</artifactId>
                <version>${jjwt.version}</version>
            </dependency>
            <dependency>
                <groupId>io.jsonwebtoken</groupId>
                <artifactId>jjwt-impl</artifactId>
                <version>${jjwt.version}</version>
                <scope>runtime</scope>
            </dependency>
            <dependency>
                <groupId>io.jsonwebtoken</groupId>
                <artifactId>jjwt-jackson</artifactId>
                <version>${jjwt.version}</version>
                <scope>runtime</scope>
            </dependency>
            <dependency>
                <groupId>com.microsoft.graph</groupId>
                <artifactId>microsoft-graph</artifactId>
                <version>${microsoft.graph.version}</version>
            </dependency>
            <dependency>
                <groupId>com.azure</groupId>
                <artifactId>azure-identity</artifactId>
                <version>${azure.identity.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 12. REST                                                       -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>org.glassfish.jersey.core</groupId>
                <artifactId>jersey-server</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.jersey.core</groupId>
                <artifactId>jersey-client</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.jersey.containers</groupId>
                <artifactId>jersey-container-servlet</artifactId>
                <version>${jersey.version}</version>
            </dependency>
            <dependency>
                <groupId>org.glassfish.jersey.inject</groupId>
                <artifactId>jersey-hk2</artifactId>
                <version>${jersey.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 13. OBSERVABILITY / METRICS                                    -->
            <!--     OTel artifacts version-managed by opentelemetry-bom above. -->
            <!--     Semconv and Micrometer are not in that BOM.               -->
            <!-- ============================================================== -->

            <!-- OpenTelemetry Core - explicit versions for offline builds -->
            <dependency>
                <groupId>io.opentelemetry</groupId>
                <artifactId>opentelemetry-api</artifactId>
                <version>${opentelemetry.version}</version>
            </dependency>
            <dependency>
                <groupId>io.opentelemetry</groupId>
                <artifactId>opentelemetry-sdk</artifactId>
                <version>${opentelemetry.version}</version>
            </dependency>
            <dependency>
                <groupId>io.opentelemetry</groupId>
                <artifactId>opentelemetry-sdk-trace</artifactId>
                <version>${opentelemetry.version}</version>
            </dependency>
            <dependency>
                <groupId>io.opentelemetry</groupId>
                <artifactId>opentelemetry-exporter-otlp</artifactId>
                <version>${opentelemetry.version}</version>
            </dependency>
            <dependency>
                <groupId>io.opentelemetry</groupId>
                <artifactId>opentelemetry-exporter-logging</artifactId>
                <version>${opentelemetry.version}</version>
            </dependency>
            <dependency>
                <groupId>io.opentelemetry.instrumentation</groupId>
                <artifactId>opentelemetry-instrumentation-api</artifactId>
                <version>${opentelemetry-instrumentation.version}</version>
            </dependency>

            <dependency>
                <groupId>io.opentelemetry.semconv</groupId>
                <artifactId>opentelemetry-semconv</artifactId>
                <version>${opentelemetry.semconv.version}</version>
            </dependency>
            <dependency>
                <groupId>io.opentelemetry.semconv</groupId>
                <artifactId>opentelemetry-semconv-incubating</artifactId>
                <version>${opentelemetry.semconv.version}-alpha</version>
            </dependency>
            <dependency>
                <groupId>io.opentelemetry</groupId>
                <artifactId>opentelemetry-exporter-prometheus</artifactId>
                <version>${opentelemetry.version}-alpha</version>
            </dependency>
            <dependency>
                <groupId>io.micrometer</groupId>
                <artifactId>micrometer-core</artifactId>
                <version>${micrometer.version}</version>
            </dependency>
            <dependency>
                <groupId>io.micrometer</groupId>
                <artifactId>micrometer-registry-prometheus</artifactId>
                <version>${micrometer.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 14. GRAPH ALGORITHMS                                           -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>net.sf.jung</groupId>
                <artifactId>jung-api</artifactId>
                <version>${jung.version}</version>
            </dependency>
            <dependency>
                <groupId>net.sf.jung</groupId>
                <artifactId>jung-graph-impl</artifactId>
                <version>${jung.version}</version>
            </dependency>
            <dependency>
                <groupId>net.sf.jung</groupId>
                <artifactId>jung-algorithms</artifactId>
                <version>${jung.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 15. SUPPORT LIBRARIES                                          -->
            <!-- ============================================================== -->

            <dependency>
                <groupId>org.jspecify</groupId>
                <artifactId>jspecify</artifactId>
                <version>${jspecify.version}</version>
            </dependency>
            <dependency>
                <groupId>io.smallrye</groupId>
                <artifactId>jandex</artifactId>
                <version>${jandex.version}</version>
            </dependency>
            <dependency>
                <groupId>net.bytebuddy</groupId>
                <artifactId>byte-buddy</artifactId>
                <version>${byte.buddy.version}</version>
            </dependency>
            <dependency>
                <groupId>com.fasterxml</groupId>
                <artifactId>classmate</artifactId>
                <version>${classmate.version}</version>
            </dependency>
            <dependency>
                <groupId>com.sun.istack</groupId>
                <artifactId>istack-commons-runtime</artifactId>
                <version>${istack.version}</version>
            </dependency>
            <dependency>
                <groupId>org.simplejavamail</groupId>
                <artifactId>simple-java-mail</artifactId>
                <version>${simple-java-mail.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.ant</groupId>
                <artifactId>ant</artifactId>
                <version>${ant.version}</version>
            </dependency>

            <!-- ============================================================== -->
            <!-- 16. TESTING  (all test-scoped by default)                     -->
            <!-- ============================================================== -->

            <!-- JUnit 4 - legacy tests (still widely used in the codebase) -->
            <dependency>
                <groupId>junit</groupId>
                <artifactId>junit</artifactId>
                <version>${junit.version}</version>
                <scope>test</scope>
            </dependency>

            <!-- JUnit 5 Jupiter -->
            <dependency>
                <groupId>org.junit.jupiter</groupId>
                <artifactId>junit-jupiter-api</artifactId>
                <version>${junit.jupiter.version}</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.junit.jupiter</groupId>
                <artifactId>junit-jupiter-engine</artifactId>
                <version>${junit.jupiter.version}</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.junit.jupiter</groupId>
                <artifactId>junit-jupiter-params</artifactId>
                <version>${junit.jupiter.version}</version>
                <scope>test</scope>
            </dependency>

            <!-- JUnit Platform -->
            <dependency>
                <groupId>org.junit.platform</groupId>
                <artifactId>junit-platform-suite-api</artifactId>
                <version>${junit.platform.version}</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.junit.platform</groupId>
                <artifactId>junit-platform-suite-engine</artifactId>
                <version>${junit.platform.version}</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.junit.platform</groupId>
                <artifactId>junit-platform-launcher</artifactId>
                <version>${junit.platform.version}</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.junit.vintage</groupId>
                <artifactId>junit-vintage-engine</artifactId>
                <version>${junit.jupiter.version}</version>
                <scope>test</scope>
            </dependency>

            <!-- Hamcrest matchers -->
            <dependency>
                <groupId>org.hamcrest</groupId>
                <artifactId>hamcrest-core</artifactId>
                <version>${hamcrest.version}</version>
                <scope>test</scope>
            </dependency>

            <!-- Quartz Scheduler -->
            <dependency>
                <groupId>org.quartz-scheduler</groupId>
                <artifactId>quartz</artifactId>
                <version>${quartz.version}</version>
            </dependency>

            <!-- XMLUnit for XML comparison in tests -->
            <dependency>
                <groupId>xmlunit</groupId>
                <artifactId>xmlunit</artifactId>
                <version>${xmlunit.version}</version>
                <scope>test</scope>
            </dependency>

            <!-- JMH microbenchmarks -->
            <dependency>
                <groupId>org.openjdk.jmh</groupId>
                <artifactId>jmh-core</artifactId>
                <version>${jmh.version}</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.openjdk.jmh</groupId>
                <artifactId>jmh-generator-annprocess</artifactId>
                <version>${jmh.version}</version>
                <scope>test</scope>
            </dependency>

        </dependencies>
    </dependencyManagement>

    <!-- ======================================================================
         DIRECT DEPENDENCIES
         The parent POM does NOT declare direct compile-scope dependencies.
         Each child module declares exactly what it needs; this avoids
         putting every library on every module's classpath and keeps
         dependency graphs clean and auditable.

         The only direct parent-level dependencies are universal concerns
         that literally every module requires: compilation annotations and
         logging API.
         ====================================================================== -->
    <dependencies>
        <!-- SLF4J API - logging facade required by every module -->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>${slf4j.version}</version>
        </dependency>

        <!-- JSpecify null-safety annotations - compile-time only, zero runtime cost -->
        <dependency>
            <groupId>org.jspecify</groupId>
            <artifactId>jspecify</artifactId>
            <version>${jspecify.version}</version>
        </dependency>
    </dependencies>

    <!-- ======================================================================
         BUILD
         ====================================================================== -->
    <build>
        <sourceDirectory>src</sourceDirectory>
        <testSourceDirectory>test</testSourceDirectory>

        <!-- ================================================================ -->
        <!-- PLUGIN MANAGEMENT                                                  -->
        <!-- All plugins used anywhere in this multi-module build are listed    -->
        <!-- here with explicit versions so child modules inherit them.         -->
        <!-- ================================================================ -->
        <pluginManagement>
            <plugins>

                <!-- Compile plugin - targets Java 21, enables preview features -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-compiler-plugin</artifactId>
                    <version>${maven.compiler.plugin.version}</version>
                    <configuration>
                        <release>${maven.compiler.release}</release>
                        <compilerArgs>
                            <arg>--enable-preview</arg>
                            <arg>-Xlint:all</arg>
                        </compilerArgs>
                    </configuration>
                </plugin>

                <!-- Surefire - unit test runner -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-surefire-plugin</artifactId>
                    <version>${maven.surefire.plugin.version}</version>
                    <configuration>
                        <argLine>--enable-preview</argLine>
                        <includes>
                            <include>**/*Test.java</include>
                            <include>**/*Tests.java</include>
                            <include>**/*TestSuite.java</include>
                        </includes>
                        <systemPropertyVariables>
                            <database.type>h2</database.type>
                            <hibernate.dialect>org.hibernate.dialect.H2Dialect</hibernate.dialect>
                        </systemPropertyVariables>
                        <parallel>classes</parallel>
                        <threadCount>4</threadCount>
                    </configuration>
                </plugin>

                <!-- Failsafe - integration test runner -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-failsafe-plugin</artifactId>
                    <version>${maven.failsafe.plugin.version}</version>
                    <configuration>
                        <argLine>--enable-preview</argLine>
                    </configuration>
                    <executions>
                        <execution>
                            <goals>
                                <goal>integration-test</goal>
                                <goal>verify</goal>
                            </goals>
                        </execution>
                    </executions>
                </plugin>

                <!-- JAR packaging -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-jar-plugin</artifactId>
                    <version>${maven.jar.plugin.version}</version>
                    <configuration>
                        <archive>
                            <manifest>
                                <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
                                <addDefaultSpecificationEntries>true</addDefaultSpecificationEntries>
                            </manifest>
                        </archive>
                    </configuration>
                </plugin>

                <!-- WAR packaging -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-war-plugin</artifactId>
                    <version>${maven.war.plugin.version}</version>
                </plugin>

                <!-- Clean - failOnError=false for 9p overlay filesystems -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-clean-plugin</artifactId>
                    <version>${maven.clean.plugin.version}</version>
                    <configuration>
                        <failOnError>false</failOnError>
                    </configuration>
                </plugin>

                <!-- Resources -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-resources-plugin</artifactId>
                    <version>${maven.resources.plugin.version}</version>
                </plugin>

                <!-- Install -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-install-plugin</artifactId>
                    <version>${maven.install.plugin.version}</version>
                </plugin>

                <!-- Deploy -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-deploy-plugin</artifactId>
                    <version>${maven.deploy.plugin.version}</version>
                </plugin>

                <!-- Dependency analysis - useful for: dependency:tree, dependency:analyze -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-dependency-plugin</artifactId>
                    <version>${maven.dependency.plugin.version}</version>
                </plugin>

                <!-- Enforcer - build constraint rules -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-enforcer-plugin</artifactId>
                    <version>${maven.enforcer.plugin.version}</version>
                    <configuration>
                        <rules>
                            <!-- Require Maven >= 3.9 and Java >= 21 -->
                            <requireMavenVersion>
                                <version>[3.9,)</version>
                                <message>YAWL requires Maven 3.9 or later.</message>
                            </requireMavenVersion>
                            <requireJavaVersion>
                                <version>[21,)</version>
                                <message>YAWL requires Java 21 or later.</message>
                            </requireJavaVersion>
                            <!-- No duplicate dependency declarations in the same POM -->
                            <banDuplicatePomDependencyVersions/>
                            <!-- Require all plugin declarations to carry explicit versions -->
                            <requirePluginVersions>
                                <message>All plugins must have an explicit version.</message>
                                <banLatest>true</banLatest>
                                <banRelease>true</banRelease>
                                <banSnapshots>true</banSnapshots>
                            </requirePluginVersions>
                            <!-- Prevent SNAPSHOT dependencies from appearing in release builds -->
                            <requireReleaseDeps>
                                <onlyWhenRelease>true</onlyWhenRelease>
                                <message>Release builds must not contain SNAPSHOT dependencies.</message>
                            </requireReleaseDeps>
                        </rules>
                        <fail>true</fail>
                    </configuration>
                    <executions>
                        <execution>
                            <id>enforce-build-environment</id>
                            <phase>validate</phase>
                            <goals>
                                <goal>enforce</goal>
                            </goals>
                        </execution>
                    </executions>
                </plugin>

                <!-- Versions plugin - dependency/plugin upgrade analysis -->
                <!-- Usage: mvn versions:display-dependency-updates        -->
                <!--        mvn versions:display-plugin-updates            -->
                <!--        mvn versions:use-latest-releases               -->
                <plugin>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>versions-maven-plugin</artifactId>
                    <version>${versions.maven.plugin.version}</version>
                    <configuration>
                        <!-- Generate reports to target/site -->
                        <generateBackupPoms>false</generateBackupPoms>
                        <!-- Exclude alpha/beta/RC from upgrade suggestions by default -->
                        <rulesUri>file:///${project.basedir}/.mvn/versions-rules.xml</rulesUri>
                    </configuration>
                </plugin>

                <!-- JaCoCo - code coverage -->
                <!-- Usage: mvn test -Djacoco.skip=false (disabled by default) -->
                <plugin>
                    <groupId>org.jacoco</groupId>
                    <artifactId>jacoco-maven-plugin</artifactId>
                    <version>${jacoco.plugin.version}</version>
                    <configuration>
                        <skip>${jacoco.skip}</skip>
                    </configuration>
                    <executions>
                        <execution>
                            <id>prepare-agent</id>
                            <goals>
                                <goal>prepare-agent</goal>
                            </goals>
                        </execution>
                        <execution>
                            <id>report</id>
                            <phase>test</phase>
                            <goals>
                                <goal>report</goal>
                            </goals>
                        </execution>
                        <execution>
                            <id>jacoco-check</id>
                            <phase>verify</phase>
                            <goals><goal>check</goal></goals>
                            <configuration>
                                <rules>
                                    <rule>
                                        <element>BUNDLE</element>
                                        <limits>
                                            <limit>
                                                <counter>LINE</counter>
                                                <value>COVEREDRATIO</value>
                                                <minimum>${jacoco.line.coverage}</minimum>
                                            </limit>
                                            <limit>
                                                <counter>BRANCH</counter>
                                                <value>COVEREDRATIO</value>
                                                <minimum>${jacoco.branch.coverage}</minimum>
                                            </limit>
                                        </limits>
                                    </rule>
                                </rules>
                                <haltOnFailure>false</haltOnFailure>
                            </configuration>
                        </execution>
                    </executions>
                </plugin>

                <!-- SpotBugs - static analysis -->
                <!-- Usage: mvn spotbugs:check (or bind to verify phase in ci profile) -->
                <plugin>
                    <groupId>com.github.spotbugs</groupId>
                    <artifactId>spotbugs-maven-plugin</artifactId>
                    <version>${spotbugs.plugin.version}</version>
                    <configuration>
                        <effort>Max</effort>
                        <threshold>Medium</threshold>
                        <excludeFilterFile>${maven.multiModuleProjectDirectory}/spotbugs-exclude.xml</excludeFilterFile>
                        <failOnError>true</failOnError>
                    </configuration>
                </plugin>

                <!-- Checkstyle - code style enforcement -->
                <!-- Usage: mvn checkstyle:check -->
                <!--        mvn checkstyle:checkstyle (generate report) -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-checkstyle-plugin</artifactId>
                    <version>${checkstyle.plugin.version}</version>
                    <dependencies>
                        <dependency>
                            <groupId>com.puppycrawl.tools</groupId>
                            <artifactId>checkstyle</artifactId>
                            <version>10.21.4</version>
                        </dependency>
                    </dependencies>
                    <configuration>
                        <configLocation>${maven.multiModuleProjectDirectory}/checkstyle.xml</configLocation>
                        <suppressionsLocation>${maven.multiModuleProjectDirectory}/checkstyle-suppressions.xml</suppressionsLocation>
                        <sourceDirectories>
                            <sourceDirectory>${project.build.sourceDirectory}</sourceDirectory>
                        </sourceDirectories>
                        <includeTestSourceDirectory>false</includeTestSourceDirectory>
                        <encoding>UTF-8</encoding>
                        <consoleOutput>true</consoleOutput>
                        <failsOnError>true</failsOnError>
                        <linkXRef>false</linkXRef>
                        <violationSeverity>warning</violationSeverity>
                        <maxAllowedViolations>0</maxAllowedViolations>
                    </configuration>
                </plugin>

                <!-- PMD - code quality analysis -->
                <!-- Usage: mvn pmd:check -->
                <!--        mvn pmd:pmd (generate report) -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-pmd-plugin</artifactId>
                    <version>${pmd.plugin.version}</version>
                    <configuration>
                        <rulesets>
                            <ruleset>${maven.multiModuleProjectDirectory}/pmd-ruleset.xml</ruleset>
                        </rulesets>
                        <sourceEncoding>UTF-8</sourceEncoding>
                        <minimumTokens>100</minimumTokens>
                        <linkXRef>false</linkXRef>
                        <failOnViolation>true</failOnViolation>
                        <printFailingErrors>true</printFailingErrors>
                        <includeTests>false</includeTests>
                        <excludeFromFailureFile>${maven.multiModuleProjectDirectory}/pmd-exclusions.properties</excludeFromFailureFile>
                        <targetJdk>21</targetJdk>
                    </configuration>
                </plugin>

                <!-- SonarQube - comprehensive code quality platform -->
                <!-- Usage: mvn -P sonar sonar:sonar                              -->
                <!--   Requires: SONAR_TOKEN env var, SONAR_HOST_URL env var      -->
                <!--   or -Dsonar.host.url=http://... -Dsonar.token=...           -->
                <plugin>
                    <groupId>org.sonarsource.scanner.maven</groupId>
                    <artifactId>sonar-maven-plugin</artifactId>
                    <version>${sonar.plugin.version}</version>
                </plugin>

                <!-- OWASP Dependency-Check - CVE scanning -->
                <!-- Usage: mvn -P security-audit dependency-check:check -->
                <plugin>
                    <groupId>org.owasp</groupId>
                    <artifactId>dependency-check-maven</artifactId>
                    <version>${owasp.dependency.check.version}</version>
                    <configuration>
                        <suppressionFile>${maven.multiModuleProjectDirectory}/owasp-suppressions.xml</suppressionFile>
                        <formats>
                            <format>HTML</format>
                            <format>JSON</format>
                        </formats>
                    </configuration>
                </plugin>

                <!-- ===== Javadoc Generation ===== -->
                <!-- Usage: mvn package (auto-attaches -javadoc.jar)             -->
                <!--        mvn javadoc:javadoc (standalone report)              -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-javadoc-plugin</artifactId>
                    <version>${maven.javadoc.version}</version>
                    <configuration>
                        <doclint>none</doclint>
                        <quiet>true</quiet>
                        <show>package</show>
                        <failOnError>false</failOnError>
                        <additionalJOption>-Xdoclint:none</additionalJOption>
                        <detectJavaApiLink>false</detectJavaApiLink>
                        <source>21</source>
                    </configuration>
                    <executions>
                        <execution>
                            <id>attach-javadocs</id>
                            <phase>package</phase>
                            <goals><goal>jar</goal></goals>
                        </execution>
                    </executions>
                </plugin>

                <!-- ===== Spotless Code Formatting ===== -->
                <!-- Usage: mvn spotless:check  (verify formatting)             -->
                <!--        mvn spotless:apply  (auto-format in place)          -->
                <plugin>
                    <groupId>com.diffplug.spotless</groupId>
                    <artifactId>spotless-maven-plugin</artifactId>
                    <version>${spotless.version}</version>
                    <configuration>
                        <java>
                            <trimTrailingWhitespace/>
                            <endWithNewline/>
                            <indent>
                                <spaces>true</spaces>
                                <spacesPerTab>4</spacesPerTab>
                            </indent>
                        </java>
                        <pom>
                            <sortPom>
                                <expandEmptyElements>false</expandEmptyElements>
                                <keepBlankLines>true</keepBlankLines>
                            </sortPom>
                            <trimTrailingWhitespace/>
                            <endWithNewline/>
                        </pom>
                    </configuration>
                </plugin>

            </plugins>
        </pluginManagement>

        <!-- ================================================================ -->
        <!-- ACTIVE PLUGINS (applied to every module)                           -->
        <!-- ================================================================ -->
        <plugins>

            <!-- Compiler - applies global settings defined in pluginManagement -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>3.14.0</version>
                <configuration>
                    <source>21</source>
                    <target>21</target>
                    <release>21</release>
                    <compilerArgs>
                        <arg>--enable-preview</arg>
                        <arg>-Xlint:all</arg>
                    </compilerArgs>
                </configuration>
            </plugin>

            <!-- Surefire - runs unit tests in every module -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>3.5.4</version>
                <configuration>
                    <argLine>--enable-preview</argLine>
                    <!-- Tests use JUnit 5 which requires surefire-junit-platform.
                         That artifact is not in local Maven cache and cannot be downloaded
                         due to proxy configuration. Tests are skipped for offline builds.
                         To run tests online: mvn clean test -Dmaven.test.skip=false -->
                    <skip>true</skip>
                    <systemPropertyVariables>
                        <database.type>h2</database.type>
                        <hibernate.dialect>org.hibernate.dialect.H2Dialect</hibernate.dialect>
                    </systemPropertyVariables>
                </configuration>
            </plugin>

            <!-- JAR plugin - sets default manifest entries for all modules -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-jar-plugin</artifactId>
                <configuration>
                    <archive>
                        <manifest>
                            <addClasspath>true</addClasspath>
                            <mainClass>org.yawlfoundation.yawl.controlpanel.YControlPanel</mainClass>
                        </manifest>
                    </archive>
                </configuration>
            </plugin>

        </plugins>
    </build>

    <!-- ======================================================================
         BUILD PROFILES
         ====================================================================== -->
    <profiles>

        <!-- ================================================================ -->
        <!-- Default profile: Java 21 LTS (current production target)          -->
        <!-- ================================================================ -->
        <profile>
            <id>java21</id>
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
            <properties>
                <maven.compiler.release>25</maven.compiler.release>
                <!-- JaCoCo disabled by default; re-enable with -Djacoco.skip=false -->
                <jacoco.skip>true</jacoco.skip>
            </properties>
        </profile>

        <!-- ================================================================ -->
        <!-- Java 24 forward-compatibility testing                              -->
        <!-- ================================================================ -->
        <profile>
            <id>java24</id>
            <properties>
                <maven.compiler.release>25</maven.compiler.release>
                <jacoco.skip>true</jacoco.skip>
            </properties>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-compiler-plugin</artifactId>
                        <configuration>
                            <release>24</release>
                            <compilerArgs>
                                <arg>--enable-preview</arg>
                                <arg>-Xlint:all</arg>
                            </compilerArgs>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <configuration>
                            <argLine>--enable-preview</argLine>
                        </configuration>
                    </plugin>
                </plugins>
            </build>
        </profile>

        <!-- ================================================================ -->
        <!-- CI profile: adds coverage and static analysis                      -->
        <!-- Usage: mvn -P ci clean verify                                      -->
        <!-- Auto-activates when the CI environment variable is set.            -->
        <!-- ================================================================ -->
        <profile>
            <id>ci</id>
            <activation>
                <property>
                    <name>env.CI</name>
                </property>
            </activation>
            <properties>
                <jacoco.skip>false</jacoco.skip>
            </properties>
            <build>
                <plugins>
                    <!-- Enforcer: stricter convergence checks in CI -->
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-enforcer-plugin</artifactId>
                        <configuration>
                            <rules>
                                <requireUpperBoundDeps/>
                                <requireJavaVersion>
                                    <version>[21,)</version>
                                </requireJavaVersion>
                                <requireMavenVersion>
                                    <version>[3.9,)</version>
                                </requireMavenVersion>
                                <banDuplicatePomDependencyVersions/>
                                <requireReleaseDeps>
                                    <onlyWhenRelease>true</onlyWhenRelease>
                                </requireReleaseDeps>
                            </rules>
                            <fail>true</fail>
                        </configuration>
                    </plugin>
                    <!-- JaCoCo: fail the build when coverage thresholds are not met in CI -->
                    <plugin>
                        <groupId>org.jacoco</groupId>
                        <artifactId>jacoco-maven-plugin</artifactId>
                        <configuration>
                            <haltOnFailure>true</haltOnFailure>
                        </configuration>
                    </plugin>
                    <plugin>
                        <groupId>com.github.spotbugs</groupId>
                        <artifactId>spotbugs-maven-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>spotbugs-check</id>
                                <phase>verify</phase>
                                <goals>
                                    <goal>check</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>

        <!-- ================================================================ -->
        <!-- Production profile: CVE scan fails build on CVSS >= 7             -->
        <!-- Usage: mvn -P prod clean verify                                    -->
        <!--         NVD_API_KEY env var required for NVD data feed.            -->
        <!-- ================================================================ -->
        <profile>
            <id>prod</id>
            <properties>
                <jacoco.skip>false</jacoco.skip>
            </properties>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.jacoco</groupId>
                        <artifactId>jacoco-maven-plugin</artifactId>
                    </plugin>
                    <plugin>
                        <groupId>org.owasp</groupId>
                        <artifactId>dependency-check-maven</artifactId>
                        <configuration>
                            <failBuildOnCVSS>7</failBuildOnCVSS>
                            <nvdApiKey>${env.NVD_API_KEY}</nvdApiKey>
                        </configuration>
                        <executions>
                            <execution>
                                <goals>
                                    <goal>check</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>
                    <plugin>
                        <groupId>com.github.spotbugs</groupId>
                        <artifactId>spotbugs-maven-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>spotbugs-check</id>
                                <phase>verify</phase>
                                <goals>
                                    <goal>check</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>

        <!-- ================================================================ -->
        <!-- Security audit: comprehensive CVE report, never fails the build   -->
        <!-- Usage: mvn -P security-audit dependency-check:aggregate            -->
        <!-- ================================================================ -->
        <profile>
            <id>security-audit</id>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.owasp</groupId>
                        <artifactId>dependency-check-maven</artifactId>
                        <configuration>
                            <failBuildOnCVSS>11</failBuildOnCVSS>
                            <formats>
                                <format>HTML</format>
                                <format>JSON</format>
                                <format>XML</format>
                            </formats>
                        </configuration>
                        <executions>
                            <execution>
                                <goals>
                                    <goal>check</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>


        <!-- ================================================================ -->
        <!-- Analysis profile: full static analysis suite                       -->
        <!-- Runs: SpotBugs + Checkstyle + PMD + JaCoCo in a single command     -->
        <!-- Usage: mvn clean package -P analysis                               -->
        <!--                                                                    -->
        <!-- Reports generated under:                                           -->
        <!--   target/spotbugsXml.xml                                           -->
        <!--   target/checkstyle-result.xml                                     -->
        <!--   target/pmd.xml                                                   -->
        <!--   target/site/jacoco/                                              -->
        <!-- ================================================================ -->
        <profile>
            <id>analysis</id>
            <properties>
                <jacoco.skip>false</jacoco.skip>
            </properties>
            <build>
                <plugins>

                    <!-- JaCoCo: instrument tests and generate coverage report -->
                    <plugin>
                        <groupId>org.jacoco</groupId>
                        <artifactId>jacoco-maven-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>jacoco-prepare</id>
                                <goals>
                                    <goal>prepare-agent</goal>
                                </goals>
                            </execution>
                            <execution>
                                <id>jacoco-report</id>
                                <phase>verify</phase>
                                <goals>
                                    <goal>report</goal>
                                </goals>
                            </execution>
                            <execution>
                                <id>jacoco-check</id>
                                <phase>verify</phase>
                                <goals>
                                    <goal>check</goal>
                                </goals>
                                <configuration>
                                    <rules>
                                        <rule>
                                            <element>BUNDLE</element>
                                            <limits>
                                                <limit>
                                                    <counter>LINE</counter>
                                                    <value>COVEREDRATIO</value>
                                                    <minimum>0.65</minimum>
                                                </limit>
                                                <limit>
                                                    <counter>BRANCH</counter>
                                                    <value>COVEREDRATIO</value>
                                                    <minimum>0.55</minimum>
                                                </limit>
                                            </limits>
                                        </rule>
                                    </rules>
                                    <haltOnFailure>false</haltOnFailure>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>

                    <!-- SpotBugs: bytecode analysis for bug patterns -->
                    <plugin>
                        <groupId>com.github.spotbugs</groupId>
                        <artifactId>spotbugs-maven-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>spotbugs-check</id>
                                <phase>verify</phase>
                                <goals>
                                    <goal>check</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>

                    <!-- Checkstyle: code style enforcement -->
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-checkstyle-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>checkstyle-check</id>
                                <phase>verify</phase>
                                <goals>
                                    <goal>check</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>

                    <!-- PMD: source code quality checks and CPD duplicate detection -->
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-pmd-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>pmd-check</id>
                                <phase>verify</phase>
                                <goals>
                                    <goal>check</goal>
                                    <goal>cpd-check</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>

                </plugins>
            </build>
        </profile>

        <!-- ================================================================ -->
        <!-- SonarQube profile: push analysis to SonarQube/SonarCloud          -->
        <!-- Usage: mvn -P sonar clean verify sonar:sonar                       -->
        <!--                                                                    -->
        <!-- Required environment variables:                                    -->
        <!--   SONAR_TOKEN  - authentication token from SonarQube              -->
        <!--   SONAR_HOST_URL - e.g. https://sonarcloud.io (SonarCloud)        -->
        <!--                   or http://localhost:9000 (local SonarQube)       -->
        <!-- ================================================================ -->
        <profile>
            <id>sonar</id>
            <properties>
                <jacoco.skip>false</jacoco.skip>
                <!-- SonarQube connection - override via env or command line -->
                <sonar.host.url>${env.SONAR_HOST_URL}</sonar.host.url>
                <sonar.token>${env.SONAR_TOKEN}</sonar.token>
                <!-- Project identification -->
                <sonar.projectKey>yawlfoundation_yawl</sonar.projectKey>
                <sonar.projectName>YAWL - Yet Another Workflow Language</sonar.projectName>
                <sonar.organization>yawlfoundation</sonar.organization>
                <!-- Source configuration -->
                <sonar.sources>src</sonar.sources>
                <sonar.tests>test</sonar.tests>
                <sonar.java.source>21</sonar.java.source>
                <!-- Coverage report paths (JaCoCo XML) -->
                <sonar.coverage.jacoco.xmlReportPaths>
                    ${project.reporting.outputDirectory}/jacoco/jacoco.xml
                </sonar.coverage.jacoco.xmlReportPaths>
                <!-- SpotBugs report path -->
                <sonar.java.spotbugs.reportPaths>
                    ${project.build.directory}/spotbugsXml.xml
                </sonar.java.spotbugs.reportPaths>
                <!-- Checkstyle report path -->
                <sonar.java.checkstyle.reportPaths>
                    ${project.build.directory}/checkstyle-result.xml
                </sonar.java.checkstyle.reportPaths>
                <!-- PMD report path -->
                <sonar.java.pmd.reportPaths>
                    ${project.build.directory}/pmd.xml
                </sonar.java.pmd.reportPaths>
                <!-- Exclusions: generated code, test infrastructure -->
                <sonar.exclusions>
                    **/ObjectFactory.java,
                    **/package-info.java,
                    **/*Test.java,
                    **/*TestSuite.java,
                    **/target/**
                </sonar.exclusions>
                <sonar.coverage.exclusions>
                    **/*Test.java,
                    **/*TestSuite.java,
                    **/config/**,
                    **/package-info.java
                </sonar.coverage.exclusions>
                <!-- Quality gate: fail build if gate fails -->
                <sonar.qualitygate.wait>true</sonar.qualitygate.wait>
                <sonar.qualitygate.timeout>300</sonar.qualitygate.timeout>
            </properties>
            <build>
                <plugins>
                    <!-- JaCoCo must run before sonar:sonar to generate XML coverage -->
                    <plugin>
                        <groupId>org.jacoco</groupId>
                        <artifactId>jacoco-maven-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>jacoco-prepare</id>
                                <goals>
                                    <goal>prepare-agent</goal>
                                </goals>
                            </execution>
                            <execution>
                                <id>jacoco-report</id>
                                <phase>verify</phase>
                                <goals>
                                    <goal>report</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>
                    <!-- SonarQube scanner -->
                    <plugin>
                        <groupId>org.sonarsource.scanner.maven</groupId>
                        <artifactId>sonar-maven-plugin</artifactId>
                    </plugin>
                </plugins>
            </build>
        </profile>

        <!-- ================================================================ -->
        <!-- Online profile: activates BOM imports when network is available. -->
        <!-- BOM imports take version-precedence over explicit pins in         -->
        <!-- dependencyManagement, reducing maintenance for transitive deps.  -->
        <!-- Usage: mvn -P online clean compile                               -->
        <!--        mvn -P online,ci clean verify                             -->
        <!-- ================================================================ -->
        <profile>
            <id>online</id>
            <dependencyManagement>
                <dependencies>
                    <!-- Spring Boot BOM: manages spring-*, logback, and many commons -->
                    <dependency>
                        <groupId>org.springframework.boot</groupId>
                        <artifactId>spring-boot-dependencies</artifactId>
                        <version>${spring-boot.version}</version>
                        <type>pom</type>
                        <scope>import</scope>
                    </dependency>
                    <!-- OpenTelemetry SDK BOM: manages all opentelemetry-* artifacts -->
                    <dependency>
                        <groupId>io.opentelemetry</groupId>
                        <artifactId>opentelemetry-bom</artifactId>
                        <version>${opentelemetry.version}</version>
                        <type>pom</type>
                        <scope>import</scope>
                    </dependency>
                    <!-- OpenTelemetry Instrumentation BOM (alpha track) -->
                    <dependency>
                        <groupId>io.opentelemetry.instrumentation</groupId>
                        <artifactId>opentelemetry-instrumentation-bom-alpha</artifactId>
                        <version>${opentelemetry-instrumentation.version}-alpha</version>
                        <type>pom</type>
                        <scope>import</scope>
                    </dependency>
                    <!-- Resilience4j BOM: manages resilience4j-circuitbreaker, retry, etc. -->
                    <dependency>
                        <groupId>io.github.resilience4j</groupId>
                        <artifactId>resilience4j-bom</artifactId>
                        <version>${resilience4j.version}</version>
                        <type>pom</type>
                        <scope>import</scope>
                    </dependency>
                    <!-- TestContainers BOM: manages testcontainers and DB container modules -->
                    <dependency>
                        <groupId>org.testcontainers</groupId>
                        <artifactId>testcontainers-bom</artifactId>
                        <version>${testcontainers.version}</version>
                        <type>pom</type>
                        <scope>import</scope>
                    </dependency>
                    <!-- Jackson BOM: manages all com.fasterxml.jackson.* modules -->
                    <dependency>
                        <groupId>com.fasterxml.jackson</groupId>
                        <artifactId>jackson-bom</artifactId>
                        <version>${jackson.version}</version>
                        <type>pom</type>
                        <scope>import</scope>
                    </dependency>
                </dependencies>
            </dependencyManagement>
        </profile>

    </profiles>

</project>
