# Chaos Toolkit Settings Configuration for YAWL

# Transports configuration
transports:
  http:
    timeout: 30
    max_retries: 3
    verify_ssl: true
    headers:
      User-Agent: "chaos-toolkit-yawl"

# Kubernetes configuration
kubernetes:
  context: "minikube"
  namespace: "yawl"
  config_path: "~/.kube/config"
  timeout: 60
  retries: 3

# Probes configuration
probes:
  timeout: 30
  max_retries: 3
  backoff_multiplier: 1.5

# Actions configuration
actions:
  timeout: 60
  rollback_on_failure: true

# Logging configuration
logging:
  level: INFO
  format: json
  file: /tmp/yawl-chaos-tests.log
  handlers:
    - type: console
      level: INFO
    - type: file
      level: DEBUG
      file: /tmp/yawl-chaos-debug.log

# Plugins configuration
plugins:
  - type: extension
    name: chaostoolkit-kubernetes
  - type: extension
    name: chaostoolkit-http
  - type: extension
    name: chaostoolkit-docker

# Steady state hypothesis validation
steady_state:
  validate_initial: true
  timeout: 60
  rollback_on_failure: true

# Notifications
notifications:
  webhooks:
    - url: "${SLACK_WEBHOOK_URL}"
      event: experiment-completed
      include_payload: true
  email:
    enabled: false
    smtp_host: "smtp.example.com"
    smtp_port: 587
    from: "chaos@example.com"

# Reporting configuration
reporting:
  path: /tmp/yawl-chaos-report
  format: json
  include_results: true
  include_logs: true

# Experiment defaults
experiment_defaults:
  timeout: 600  # 10 minutes
  rollback_strategy: always
  continue_on_failure: false

# Environment overrides
environment:
  YAWL_NAMESPACE: yawl
  YAWL_SERVICE: yawl
  YAWL_API_URL: http://yawl-service:8080
  YAWL_DB_HOST: postgres
  YAWL_DB_PORT: 5432
