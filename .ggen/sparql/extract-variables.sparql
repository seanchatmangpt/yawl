PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX yawl: <http://www.yawlfoundation.org/yawlschema#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

# Extract variable definitions for workflow specification
# Returns all local and global variables with their types and initial values

SELECT ?varName ?varType ?initialValue ?scope
WHERE {
  {
    ?var a yawl:LocalVariable ;
         yawl:name ?varName ;
         yawl:type ?varType ;
         yawl:scope ?scope .

    OPTIONAL {
      ?var yawl:initialValue ?initialValue .
    }
  } UNION {
    ?var a yawl:GlobalVariable ;
         yawl:name ?varName ;
         yawl:type ?varType .

    BIND("global" AS ?scope)

    OPTIONAL {
      ?var yawl:initialValue ?initialValue .
    }
  }
}
ORDER BY ?scope ?varName
